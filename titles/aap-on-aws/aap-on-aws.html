<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.17">
<title>Red Hat Ansible Automation Platform from AWS Marketplace guide</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="book toc2 toc-left Role ARG Spec">
<div id="header">
<h1>Red Hat Ansible Automation Platform from AWS Marketplace guide</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_aaponawsnameshort">{AAPonAWSNameShort}</a></li>
<li><a href="#making-open-source-more-inclusive">Making open source more inclusive</a></li>
<li><a href="#assembly-intro-to-aap-on-aws">1. Introduction to Ansible Automation Platform from AWS Marketplace</a>
<ul class="sectlevel2">
<li><a href="#con-aws-application-architecture">1.1. Application architecture</a></li>
<li><a href="#_aws_infrastructure">1.2. AWS infrastructure</a></li>
<li><a href="#_architecture_description">1.3. Architecture Description</a></li>
<li><a href="#_service_descriptions">1.4. Service descriptions</a></li>
</ul>
</li>
<li><a href="#assembly-aap-aws-install">2. Installing Ansible Automation Platform from AWS Marketplace</a>
<ul class="sectlevel2">
<li><a href="#ref-aap-aws-install-prerequisites">2.1. Prerequisites</a></li>
<li><a href="#proc-aws-create-ec2-pair">2.2. Create an EC2 pair</a></li>
<li><a href="#proc-aws-marketplace">2.3. AWS Marketplace</a></li>
<li><a href="#proc-aws-application-deploy">2.4. Application deployment</a></li>
</ul>
</li>
<li><a href="#assembly-aap-aws-extension">3. Extension nodes</a>
<ul class="sectlevel2">
<li><a href="#proc-aap-aws-add-extension-nodes">3.1. Adding extension nodes to Ansible Automation Platform from AWS Marketplace</a></li>
<li><a href="#_create_the_extension_node_launch_configuration">3.2. Create the extension node launch configuration</a></li>
<li><a href="#_create_the_auto_scaling_group">3.3. Create the auto scaling group</a></li>
</ul>
</li>
<li><a href="#assembly-aap-aws-networking-access">4. Networking and application access</a>
<ul class="sectlevel2">
<li><a href="#con-aap-aws-access-application">4.1. Accessing the application</a></li>
<li><a href="#con-aap-aws-network-peering-options">4.2. Network peering options</a></li>
<li><a href="#proc-aws-vpc-peering">4.3. VPC peering</a></li>
<li><a href="#proc-aap-aws-configure-route-tables">4.4. Configure VPC route tables</a></li>
<li><a href="#proc-aap-aws-routing-to-vpcs">4.5. Routing to your VPCs</a></li>
<li><a href="#proc-aap-aws-configure-security-network">4.6. Configure network security groups</a></li>
<li><a href="#proc-aap-aws-traffic-to-vpc">4.7. Traffic to Ansible Automation Platform VPC</a></li>
<li><a href="#ref-aap-aws-transit-gateway">4.8. Transit gateways</a></li>
</ul>
</li>
<li><a href="#assembly-aap-aws-additional-configs">5. Ansible Automation Platform from AWS Marketplace additional configurations</a>
<ul class="sectlevel2">
<li><a href="#ref-aap-aws-additional-configs-update-admin-password">5.1. Changing the default Ansible Automation Platform Administrator password</a></li>
<li><a href="#ref-aap-aws-additional-configs-update-rds-password">5.2. Changing the default RDS database password</a></li>
</ul>
</li>
<li><a href="#assembly-aap-aws-automation-workloads">6. Automation workloads</a>
<ul class="sectlevel2">
<li><a href="#ref-aap-aws-automation-performance">6.1. Automation performance</a></li>
<li><a href="#con-aap-aws-deployment-scaling">6.2. Deployment scaling</a></li>
</ul>
</li>
<li><a href="#assembly-aap-aws-support">7. Support</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Install and configure Red Hat Ansible Automation Platform from AWS Marketplace.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_aaponawsnameshort"><a class="anchor" href="#_aaponawsnameshort"></a>{AAPonAWSNameShort}</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Thank you for your interest in Red Hat Ansible Automation Platform from <em>AWS Marketplace</em> (AWS).
Ansible Automation Platform is a commercial offering that helps teams manage complex multi-tier deployments by adding control, knowledge, and delegation to Ansible-powered environments.</p>
</div>
<div class="paragraph">
<p>This guide helps you to understand the installation and use of Ansible Automation Platform from AWS Marketplace.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="making-open-source-more-inclusive"><a class="anchor" href="#making-open-source-more-inclusive"></a>Making open source more inclusive</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Red Hat is committed to replacing problematic language in our code, documentation, and web properties.
We are beginning with these four terms: master, slave, blacklist, and whitelist.
Because of the enormity of this endeavor, these changes will be implemented gradually over several upcoming releases.
For more details, see <a href="https://www.redhat.com/en/blog/making-open-source-more-inclusive-eradicating-problematic-language">our CTO Chris Wright&#8217;s message</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="assembly-intro-to-aap-on-aws"><a class="anchor" href="#assembly-intro-to-aap-on-aws"></a>1. Introduction to Ansible Automation Platform from AWS Marketplace</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Red Hat Ansible Automation Platform from AWS Marketplace is an offering that you can deploy from the AWS Marketplace portal.
Ansible Automation Platform from AWS Marketplace provides access to a library of Ansible content collections, and it is integrated with key AWS services, so you can start automating the deployment, configuration, and management of infrastructure and applications quickly.</p>
</div>
<div class="paragraph">
<p>The following Red Hat Ansible Automation Platform components are available on Ansible Automation Platform from AWS Marketplace:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Automation controller</p>
</li>
<li>
<p>Ansible automation hub</p>
</li>
<li>
<p>Private automation hub</p>
</li>
<li>
<p>Automation services catalog</p>
</li>
<li>
<p>Ansible Content Collections</p>
</li>
<li>
<p>Automation execution environments</p>
</li>
<li>
<p>Ansible content tools, including access to Red Hat Insights for Red Hat Ansible Automation Platform</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="con-aws-application-architecture"><a class="anchor" href="#con-aws-application-architecture"></a>1.1. Application architecture</h3>
<div class="paragraph">
<p>Red Hat Ansible Automation Platform from AWS Marketplace is installed into infrastructure resources running within your AWS account.</p>
</div>
</div>
<div class="sect2">
<h3 id="_aws_infrastructure"><a class="anchor" href="#_aws_infrastructure"></a>1.2. AWS infrastructure</h3>
<div class="imageblock">
<div class="content">
<img src="images/aap-on-aws-architecture.png" alt="AWS application architecture">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_architecture_description"><a class="anchor" href="#_architecture_description"></a>1.3. Architecture Description</h3>
<div class="paragraph">
<p>Red Hat Ansible Automation Platform from AWS Marketplace is designed to be private, with no public access or public egress installed by default. This requires customers to expose their infrastructure manually.
Components deployed are isolated into their own <em>Virtual Private Cloud</em> (VPC).
Applications run on instances backed by an autoscale group, which run on RHEL-based <em>Amazon Machine Images</em> (AMIs) as their basis.
These AMIs are preloaded with all the required container images to run the Ansible Automation Platform, automation hub, automation controller, and receptor rpm/container components.
A shared EFS volume is mounted into each instance stood up by the autoscale groups.</p>
</div>
<div class="paragraph">
<p>All internal instances have private IP addresses by default and internal traffic is encrypted by default through Amazon Web Services.
The Ansible Automation Platform application is run in containers managed through podman on the instances provisioned by the autoscale groups.
This podman configuration is itself managed by systemd.
SELinux is enabled on our instances and is supported down to the container level.
Each automation controller instance is configured as an Ansible Automation Platform hybrid node by default to simplify the scale up and out procedures.</p>
</div>
</div>
<div class="sect2">
<h3 id="_service_descriptions"><a class="anchor" href="#_service_descriptions"></a>1.4. Service descriptions</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Service Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Elastic Compute Cloud (EC2)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AWS VM compute platform</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Relational Database Service</em> (RDS)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AWS database service</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Systems Manager</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AWS operations and application management service.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cloud Watch</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AWS logging service</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Virtual Private Cloud (VPC)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AWS networking service</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NAT Gateway</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A NAT gateway is a <em>Network Address Translation</em> (NAT) service</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Elastic Block Storage (EBS)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AWS block storage service</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Elastic File Storage (EFS)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AWS file storage service with support for NFS</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="assembly-aap-aws-install"><a class="anchor" href="#assembly-aap-aws-install"></a>2. Installing Ansible Automation Platform from AWS Marketplace</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="ref-aap-aws-install-prerequisites"><a class="anchor" href="#ref-aap-aws-install-prerequisites"></a>2.1. Prerequisites</h3>
<div class="paragraph">
<p>Before you can install and register Ansible Automation Platform, you must be familiar with AWS including how services operate, how data is stored, and any privacy implications that may exist by using these services.
You must also set up an account with Amazon Web Services.</p>
</div>
<div class="paragraph">
<p>You must have a working knowledge of the following aspects of Amazon Web Services:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Deploying solutions from the AWS Marketplace</p>
</li>
<li>
<p><em>Elastic Compute Cloud</em> (EC2) instances</p>
</li>
<li>
<p><em>Elastic Block Store</em> (EBS) volumes</p>
</li>
<li>
<p><em>Elastic File Storage</em> (EFS)</p>
</li>
<li>
<p>AWS <em>Virtual Private Clouds</em> (VPCs)</p>
<div class="ulist">
<ul>
<li>
<p>Subnets</p>
</li>
<li>
<p>Route Tables</p>
</li>
<li>
<p>Security Groups</p>
</li>
<li>
<p>Load Balancers</p>
</li>
</ul>
</div>
</li>
<li>
<p>Network Design</p>
</li>
<li>
<p>Hub-and-spoke networking designs</p>
</li>
<li>
<p>VPC Peering</p>
</li>
<li>
<p><em>Class Inter-Domain Routing</em> (CIDR) blocks</p>
</li>
<li>
<p>Transit routing</p>
</li>
<li>
<p>AWS Lambda</p>
</li>
<li>
<p>AWS CloudWatch</p>
</li>
<li>
<p>SSH</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more information about Amazon Web Services and terminology, see the <a href="https://aws.amazon.com/">AWS product documentation</a>.</p>
</div>
<div class="paragraph">
<p>Your AWS account must have <em>Identity and Access Management</em> (IAM) permissions to create and manage AWS Marketplace deployments as well as the resources described in <a href="#con-aws-application-architecture">Application architecture</a>.
The application can fail to deploy if your IAM policies restrict deployment and management of these resources.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Automation mesh is not available on Ansible Automation Platform from AWS Marketplace at this time and is planned for a later release.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="proc-aws-create-ec2-pair"><a class="anchor" href="#proc-aws-create-ec2-pair"></a>2.2. Create an EC2 pair</h3>
<div class="paragraph">
<p>An SSH key pair is required to set up Ansible Automation Platform from AWS Marketplace.
You can use an existing key pair or create a new one.
If you have an existing key pair, then you can skip this step.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the AWS Console, navigate to menu:EC2[].</p>
</li>
<li>
<p>In the <strong>Network and Security</strong> section, click btn:[Key Pairs].</p>
</li>
<li>
<p>Click btn:[Create key pair].</p>
</li>
<li>
<p>Fill out the fields in the input form.</p>
<div class="ulist">
<ul>
<li>
<p>Red Hat recommends that you use ED25519 as the key pair type.</p>
</li>
<li>
<p>Use PEM as the key file format.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Click btn:[Create key pair].</p>
</li>
<li>
<p>Download the private key and store it in a secure location, such as the <code>~/.ssh</code> folder, and apply appropriate local file permissions to secure the key file.</p>
</li>
<li>
<p>On Linux hosts, run the following command to secure all files in your <code>ssh</code> directory.</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">chmod 600 ~/.ssh/*</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="proc-aws-marketplace"><a class="anchor" href="#proc-aws-marketplace"></a>2.3. AWS Marketplace</h3>
<div class="paragraph">
<div class="title">Public Offer</div>
<p>Red Hat Ansible Automation Platform from AWS Marketplace can be obtained directly from the AWS Marketplace.
Follow these steps to purchase and deploy the public offer.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the AWS Console, navigate to the <strong>AWS Marketplace</strong>.</p>
</li>
<li>
<p>Click btn:[Discover Products].</p>
</li>
<li>
<p>Search for Ansible Automation Platform.</p>
</li>
<li>
<p>Click the listing for <strong>Red Hat Ansible Automation Platform from AWS Marketplace</strong>.
Ensure that you have selected the offer where Red Hat is the publisher.</p>
</li>
<li>
<p>Click btn:[Continue to Subscribe].</p>
</li>
<li>
<p>Click btn:[Continue to Configuration].
Select the appropriate fulfillment options.
Note that some selectors may have only one option.</p>
</li>
<li>
<p>Click btn:[Continue to Launch].</p>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Private Offer</div>
<p>If you have worked with Red Hat Sales to enable a private offer of Red Hat Ansible Automation Platform from AWS Marketplace, follow these steps to accept your offer and deploy the solution.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Visit your Private Offer with the URL link provided by your Red Hat Sales representative.</p>
</li>
<li>
<p>Click btn:[Accept Terms] to subscribe to the AMI Private Offer named Ansible Automation Platform from AWS Marketplace.</p>
</li>
<li>
<p>After accepting the offer terms, click btn:[Continue to Configuration].</p>
</li>
</ol>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>After subscribing, the offer is also listed in your AWS Marketplace Subscriptions.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="proc-aws-application-deploy"><a class="anchor" href="#proc-aws-application-deploy"></a>2.4. Application deployment</h3>
<div class="paragraph">
<p>Now that you have subscribed to an offer, you can begin configuration before launching the CloudFormation Stack.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the <strong>Fulfillment option</strong> field, select <strong>Ansible Automation Platform CloudFormation</strong>.</p>
</li>
<li>
<p>In the <strong>Software version</strong> field, confirm the latest version available in the list is selected.</p>
</li>
<li>
<p>In the <strong>Region</strong> field, select the region with your EC2 key pair.
The CloudFormation Stack deploys in the same region.</p>
</li>
<li>
<p>Click btn:[Continue to Launch].</p>
</li>
<li>
<p>On the following screen, click btn:[Launch].
This launches the AWS CloudFormation Console in a new browser tab.</p>
</li>
<li>
<p>For Step 1, <strong>Specify template</strong>, click btn:[Next].</p>
</li>
<li>
<p>For Step 2, <strong>Specify stack details</strong></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>In the <strong>Stack name</strong> field, enter a unique stack name.</p>
</li>
<li>
<p>For <strong>awsKeyPair</strong> select your previously created EC2 keypair.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Click btn:[Next] to move to Step 3.</p>
</li>
<li>
<p>For Step 3, <strong>Configure stack options</strong>.
No changes are necessary.
All configurations are optional or have the correct default values.</p>
</li>
<li>
<p>Click btn:[Next] to move to Step 4, <strong>Review</strong>.</p>
</li>
<li>
<p>For Step 4, <strong>Review</strong>.
Scroll to the bottom.
In the <strong>Capabilities section</strong>, check to acknowledge that CloudFormation may create IAM resources.</p>
</li>
<li>
<p>Click btn:[Create stack].</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The application begins provisioning.
It can take some time for the infrastructure and application to fully provision.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="assembly-aap-aws-extension"><a class="anchor" href="#assembly-aap-aws-extension"></a>3. Extension nodes</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="proc-aap-aws-add-extension-nodes"><a class="anchor" href="#proc-aap-aws-add-extension-nodes"></a>3.1. Adding extension nodes to Ansible Automation Platform from AWS Marketplace</h3>
<div class="paragraph">
<p>By default, the foundation stack is deployed with two automation controller nodes and one automation hub node.
You can add execution nodes to scale out Ansible Automation Platform from AWS Marketplace.
Follow these steps to add execution nodes into your Ansible Automation Platform from AWS Marketplace environment:</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Open the automation controller Launch Configuration</p>
</li>
<li>
<p>Navigate to the AWS CloudFormation UI, and click the <strong>Resources</strong> tab.</p>
</li>
<li>
<p>Ensure <strong>Tree View</strong> is selected.</p>
</li>
<li>
<p>In the <strong>Controller</strong> menu, select <strong>autoscale-group &gt; Launch Config</strong>.</p>
</li>
<li>
<p>Click btn:[Launch Config Physical ID] to open the launch configuration in a new tab.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_create_the_extension_node_launch_configuration"><a class="anchor" href="#_create_the_extension_node_launch_configuration"></a>3.2. Create the extension node launch configuration</h3>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the <strong>Launch configuration</strong> tab, ensure the automation controller launch configuration is selected.</p>
</li>
<li>
<p>Click btn:[Copy to launch template].</p>
</li>
<li>
<p>Click btn:[Copy selected].</p>
</li>
<li>
<p>Replace the <strong>New launch template name</strong> with <strong>extension-group-template</strong>.</p>
</li>
<li>
<p>Ensure <strong>Create an Auto Scaling group using the new template</strong> checkbox is checked.</p>
</li>
<li>
<p>Click btn:[Copy].</p>
</li>
<li>
<p>For the <strong>Auto Scaling group</strong> name, enter <code>extension-group</code>.</p>
</li>
<li>
<p>Under <strong>Launch Template</strong>, click btn:[Create a launch template version] to create a new version of the launch template.</p>
</li>
<li>
<p>Identify the AMI name for the extension nodes for the current version.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>In the AWS CloudFormation UI, click the <strong>Resources</strong> tab.</p>
</li>
<li>
<p>Ensure <strong>Tree View</strong> is selected.</p>
</li>
<li>
<p>In the Controller menu, select <strong>autoscale-group &gt; ASG</strong>.</p>
</li>
<li>
<p>Click btn:[ASG Physical ID] to open the autoscale group in a new tab.</p>
</li>
<li>
<p>In the <strong>Instance Management</strong> tab for the automation controller autoscale-group, click on one of the Instance IDs, under the <strong>Instances</strong> section of this tab to open that instance page in a new tab.</p>
</li>
<li>
<p>In the <strong>Instance details</strong> section, copy the <strong>AMI name</strong>:</p>
<div class="paragraph">
<p>The format of the copied AMI name is <code>AAP-&lt;VERSION&gt;_HVM-&lt;DATETIME&gt;-x86_64-1-Marketplace-GP2-&lt;SUFFIX&gt;</code>.</p>
</div>
</li>
<li>
<p>To identify the AMI name for the extension node, remove the suffix from the copied AMI name and add in '-EXT' after the version:</p>
<div class="paragraph">
<p>The format for the proper extension node AMI name is <code>AAP-&lt;VERSION&gt;-EXT_HVM-&lt;DATETIME&gt;-x86_64-1-Marketplace-GP2</code>.</p>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Under <strong>Application and OS Images</strong>, search for the AMI name for the extension node.</p>
</li>
<li>
<p>Click btn:[Select] next to the AMI which has this name.</p>
</li>
<li>
<p>If prompted, confirm the changes.</p>
</li>
<li>
<p>Optional: Modify the Instance type.
Valid values are m5.large, m5.xlarge, or m5.2xlarge.
The default is m5.large.</p>
</li>
<li>
<p>Scroll down to the <strong>Storage</strong> category.</p>
</li>
<li>
<p>Expand <strong>Volume 1</strong>.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Set <strong>Size (GiB)</strong> to 100.</p>
</li>
<li>
<p>Ensure <strong>Encrypted</strong> is set to <code>Encrypted</code>.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Click <strong>Create template version</strong>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_create_the_auto_scaling_group"><a class="anchor" href="#_create_the_auto_scaling_group"></a>3.3. Create the auto scaling group</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Select the <strong>Choose launch template or configuration</strong> tab.</p>
</li>
<li>
<p>In the <strong>Launch template</strong> section, click the <strong>refresh</strong> icon under <strong>Version</strong>.</p>
</li>
<li>
<p>Select the option that you have just created.</p>
</li>
<li>
<p>Click btn:[Next].</p>
</li>
<li>
<p>In the <strong>Network</strong> menu, ensure the correct VPC is selected.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>To find the correct VPC, select <strong>VPC</strong> to display the VPC ID in the cloudformation stack resources page.</p>
</li>
<li>
<p>Select the matching VPC ID.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Under <strong>Availability Zones and subnets</strong>, select all available options, then click btn:[Next].</p>
</li>
<li>
<p>In the <strong>Configure advanced options</strong> page, click btn:[Next].</p>
</li>
<li>
<p>Configure the <strong>Group size</strong> capacity, then click btn:[Next].</p>
</li>
<li>
<p>In the <strong>Add notifications</strong> page, click btn:[Next].</p>
</li>
<li>
<p>In the <strong>Add tags</strong> page, click btn:[Next].</p>
</li>
<li>
<p>In the <strong>Review</strong> page, scroll to the bottom and click <strong>Create Auto Scaling group</strong>.</p>
</li>
<li>
<p>Wait for the Auto scaling group to create the nodes and for the related nodes to reach a <em>Running</em> instance state.</p>
</li>
<li>
<p>In the automation controller UI, select <strong>Administration &gt; Instances</strong> to view the extension node EC2 instances.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="assembly-aap-aws-networking-access"><a class="anchor" href="#assembly-aap-aws-networking-access"></a>4. Networking and application access</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="con-aap-aws-access-application"><a class="anchor" href="#con-aap-aws-access-application"></a>4.1. Accessing the application</h3>
<div class="paragraph">
<p>When Ansible Automation Platform from AWS Marketplace is deployed, it is deployed into an isolated VPC and cannot be accessed.
The following sections describe how to connect the VPC used by Ansible Automation Platform from AWS Marketplace to your existing AWS network.</p>
</div>
<div class="paragraph">
<p>When connected, you must determine how your users connect to Ansible Automation Platform.</p>
</div>
<div class="paragraph">
<p>There are many ways to enable this connectivity such as VPNs, Direct Connect, or bastion servers for private network access.
You can also expose the platform with public internet access using AWS services such as a Load Balancer.
How your organization configures application access on AWS is outside the scope of Red Hat’s guidelines and support for Ansible Automation Platform from AWS Marketplace.
Red Hat recommends contacting <a href="https://aws.amazon.com/">Amazon Web Services</a> for guidelines on these products and topics.</p>
</div>
</div>
<div class="sect2">
<h3 id="con-aap-aws-network-peering-options"><a class="anchor" href="#con-aap-aws-network-peering-options"></a>4.2. Network peering options</h3>
<div class="paragraph">
<p>Many networking configurations are possible, but the following configurations have been validated to work with Ansible Automation Platform from AWS Marketplace by Red Hat.</p>
</div>
<div class="paragraph">
<p>Private deployments omit access from the public internet.
This is the default deployment model based on the AWS architecture used by Ansible Automation Platform from AWS Marketplace.</p>
</div>
<div class="paragraph">
<p>If you use this approach you must configure VPC peering, a transit network gateway, or similar AWS networking connectivity to access Ansible Automation Platform from AWS Marketplace.</p>
</div>
<div class="paragraph">
<p>When VPC peering and routing are configured, you can access Ansible Automation Platform through a VM on a connected VPC subnet, or directly if your organization has a transit routing setup between AWS and your local networks.</p>
</div>
<div class="paragraph">
<p>Network peering is required for Ansible Automation Platform to access resources that reside on private VPCs or where transit routing between AWS and your on-premises networks exists.</p>
</div>
<div class="paragraph">
<p>Ansible Automation Platform requires peering and routing for outbound communication to perform automations against devices on your AWS networks and connected on-premise or multi-cloud networks.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>While every effort has been made to align with Amazon Web Services’s documentation for this content, there may be a drift in accuracy over time.
Use Amazon Web Services documentation as the source of information regarding networking topics for AWS.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>AWS offers different ways to peer private networks together.
This document focuses on basic network peering and routing models:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Peering type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://docs.aws.amazon.com/vpc/latest/peering/peering-configurations-full-access.html">VPC Peering</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VPCs are individually connected to one another with no other routing hops between them.
This is a simple peering model and is useful when connecting a few networks.
Complex peering can be configured, but routing can become more complex over time.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://docs.aws.amazon.com/vpc/latest/tgw/what-is-transit-gateway.html">Transit Gateway</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A transit gateway is a network transit hub that you can use to interconnect your virtual private clouds (VPCs) and on-premises networks.
As your cloud infrastructure expands globally, inter-Region peering connects transit gateways together using the AWS Global Infrastructure.
Your data is automatically encrypted and never travels over the public internet.</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>There are also ways that AWS directs organizations not to attempt to peer networks in their <a href="https://docs.aws.amazon.com/vpc/latest/peering/invalid-peering-configurations.html">Invalid network peering</a> document.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="proc-aws-vpc-peering"><a class="anchor" href="#proc-aws-vpc-peering"></a>4.3. VPC peering</h3>
<div class="paragraph">
<p><a href="https://docs.aws.amazon.com/vpc/latest/peering/what-is-vpc-peering.html">VPC Peering</a> offers the ability to directly connect different networks within your AWS infrastructure.
When two or more networks are peered, the peering only establishes the connection between the networks.
You must also update routing tables to direct the networks to send traffic over the appropriate networking peer.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/aap-aws-vpc-peering.png" alt="VPC peering">
</div>
</div>
<div class="paragraph">
<div class="title">Prerequisites</div>
<p>Before using VPC peering to connect any VPC, you must ensure that there is no network address space overlap between the networks that you intend to route traffic between your VPCs, and Red Hat Ansible Automation Platform from AWS Marketplace&#8217;s VPC address space.</p>
</div>
<div class="paragraph">
<p>The following procedure lets you configure VPC peering with Ansible Automation Platform.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the AWS Portal, navigate to menu:VPC[].</p>
</li>
<li>
<p>In the <strong>VPC menu</strong>, click btn:[Peering Connections].</p>
</li>
<li>
<p>Click btn:[Create peering connection].</p>
</li>
<li>
<p>Fill out the following fields:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>In the <strong>Name</strong> field, enter the name of the peering connection as you need.</p>
</li>
<li>
<p>In the <strong>Select a local VPC to peer with</strong> field, enter the Virtual Private Cloud.
This can be your existing VPC.</p>
</li>
<li>
<p>In the <strong>Select another VPC to peer with</strong> field, enter the name of the Virtual Private Cloud.
This can be the Ansible Automation Platform from AWS Marketplace VPC</p>
</li>
<li>
<p>Select <strong>My Account</strong> as these two networks should exist in the same account.</p>
</li>
<li>
<p>Choose the appropriate region configuration based on your VPC layout.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Click btn:[Create peering connection].</p>
</li>
<li>
<p>On the next screen, the summary page for the peering, select the <strong>Actions</strong> menu in the top right and select <strong>Accept request</strong>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>When you have configured the direct network peering you must configure the route tables, security groups, and Network ACLs for both VPCs for traffic to route properly.</p>
</div>
</div>
<div class="sect2">
<h3 id="proc-aap-aws-configure-route-tables"><a class="anchor" href="#proc-aap-aws-configure-route-tables"></a>4.4. Configure VPC route tables</h3>
<div class="paragraph">
<div class="title">Routing to Ansible Automation Platform</div>
<p>You must configure route tables from your existing networks to send traffic to the Ansible Automation Platform VPC CIDR for any network that requests Ansible Automation Platform user interfaces or APIs.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the AWS Console, navigate to menu:VPC[].</p>
</li>
<li>
<p>Click btn:[Route Tables] in the left menu.</p>
</li>
<li>
<p>Select the route table associated with the VPC that already existed in your AWS Marketplace account.</p>
</li>
<li>
<p>Click btn:[Edit Routes].</p>
</li>
<li>
<p>Click btn:[Add Route].</p>
</li>
<li>
<p>In the <strong>Destination</strong> field, enter the CIDR block of the Ansible Automation Platform VPC.</p>
</li>
<li>
<p>In the <strong>Target field</strong>, select <strong>Peering Connection</strong>.</p>
<div class="paragraph">
<p>Select the peering connection ID for the peering connection with the Ansible Automation Platform from AWS Marketplace VPC from the list.</p>
</div>
</li>
<li>
<p>Click btn:[Save changes].</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="proc-aap-aws-routing-to-vpcs"><a class="anchor" href="#proc-aap-aws-routing-to-vpcs"></a>4.5. Routing to your VPCs</h3>
<div class="paragraph">
<p>You must configure route tables to your existing networks to send traffic from Ansible Automation Platform VPC CIDR to any network that has automation performed against resources in those networks.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the AWS console, navigate to menu:VPC[].</p>
</li>
<li>
<p>Click btn:[Route Tables] in the left menu.</p>
</li>
<li>
<p>Select the route table associated with the Ansible Automation Platform from AWS Marketplace VPC.</p>
</li>
<li>
<p>Click btn:[Edit Routes].</p>
</li>
<li>
<p>Click btn:[Add Route].</p>
</li>
<li>
<p>In the <strong>Destination</strong> field, enter the CIDR block of the VPC that you peered to the Ansible Automation Platform VPC.</p>
</li>
<li>
<p>In the <strong>Target field</strong>, select Peering Connection.
A list of peering connections from this VPC is displayed.
Select the ID for the peering connection with your existing VPC from the list.
At this stage, you should only have one VPC peered with Ansible Automation Platform from AWS Marketplace VPC, so only one option should appear.</p>
</li>
<li>
<p>Click btn:[Save changes].</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>When you have configured the routing rules then traffic should successfully route traffic to and from Ansible Automation Platform from AWS Marketplace though your hub network.</p>
</div>
</div>
<div class="sect2">
<h3 id="proc-aap-aws-configure-security-network"><a class="anchor" href="#proc-aap-aws-configure-security-network"></a>4.6. Configure network security groups</h3>
<div class="paragraph">
<p>You can configure your Ansible Automation Platform network security groups for both VPCs to allow traffic to and from each other.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the AWS console, navigate to menu:VPC[].</p>
</li>
<li>
<p>Click btn:[Security Groups] in the left menu.</p>
</li>
<li>
<p>Select the security group associated with the Ansible Automation Platform from AWS Marketplace VPC.</p>
</li>
<li>
<p>Click btn:[Edit inbound rules].</p>
</li>
<li>
<p>Select <strong>TCP</strong> to allow only UI, API, SSH, and other TCP connections to the platform.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>You can permit other connectivity types, such as ICMP for pings to the EC2 instances deployed with the solution.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Set <strong>Source type</strong> to <strong>Custom</strong>.</p>
</li>
<li>
<p>In the <strong>Source</strong> field, enter the CIDR block of the VPC that you peered to the Ansible Automation Platform from AWS Marketplace VPC.</p>
</li>
<li>
<p>Click btn:[Save rule].</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>To ensure that Ansible Automation Platform can pull content collections from Ansible Galaxy and communicate with any system that it may need to automate against you must leave outbound rules set to <strong>all traffic</strong>.</p>
</div>
</div>
<div class="sect2">
<h3 id="proc-aap-aws-traffic-to-vpc"><a class="anchor" href="#proc-aap-aws-traffic-to-vpc"></a>4.7. Traffic to Ansible Automation Platform VPC</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the AWS console, navigate to menu:VPC[].</p>
</li>
<li>
<p>Click btn:[Security Groups] in the left menu.</p>
</li>
<li>
<p>Select the security group associated with your existing VPC.</p>
</li>
<li>
<p>Click btn:[Edit inbound rules].</p>
</li>
<li>
<p>Select TCP to permit only UI, API, SSH, and other TCP connections from Ansible Automation Platform.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>You can set other connectivity types, such as ICMP for pings to the EC2 instances deployed with the solution.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Set <strong>Source type</strong> to <strong>Custom</strong>.</p>
</li>
<li>
<p>In the <strong>Source</strong> field, enter the CIDR block of the Ansible Automation Platform from AWS Marketplace VPC.</p>
</li>
<li>
<p>Click btn:[Save rule].</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>If you have configured more restrictive outbound rules, then can repeat the previous steps for outbound rules to ensure that your existing VPC can communicate to Ansible Automation Platform from AWS Marketplace for UI and API access.</p>
</div>
</div>
<div class="sect2">
<h3 id="ref-aap-aws-transit-gateway"><a class="anchor" href="#ref-aap-aws-transit-gateway"></a>4.8. Transit gateways</h3>
<div class="paragraph">
<p>Transit Gateways provide a more advanced hub-and-spoke peering model than direct VPC peering provides.
When Ansible Automation Platform from AWS Marketplace is peered to this type of model, the hub has an additional peering with the CIDR range deployed for the Ansible Automation Platform from AWS Marketplace VPC.
The Ansible Automation Platform from AWS Marketplace VPC can be peered to a transit gateway to participate in the peering model that this AWS service provides.
Follow <a href="https://docs.aws.amazon.com/vpc/latest/tgw/tgw-getting-started.html">Instructions from AWS</a> for configuring a transit gateway.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/aap-aws-transit-gateway.png" alt="Transit gateway">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="assembly-aap-aws-additional-configs"><a class="anchor" href="#assembly-aap-aws-additional-configs"></a>5. Ansible Automation Platform from AWS Marketplace additional configurations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you want to use automation hub to host execution environments, you must first configure the application hub&#8217;s Application Load Balancer, which also involves trusting the self-signed certificate, <code>update-ca-trust</code> on the EC2 Instance.</p>
</div>
<div class="sect2">
<h3 id="ref-aap-aws-additional-configs-update-admin-password"><a class="anchor" href="#ref-aap-aws-additional-configs-update-admin-password"></a>5.1. Changing the default Ansible Automation Platform Administrator password</h3>
<div class="paragraph">
<p>The default Administrator password for Ansible Automation Platform is generated randomly when Ansible Automation Platform from AWS Marketplace is deployed.
Follow these steps to change the Administrator password for both automation controller and automation hub:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Locate the correct secret for the CloudFormation Stack by opening the AWS Secrets Manager console and selecting the secret with the name <em>&lt;stack_name&gt;-aap-admin-secret</em>.</p>
</li>
<li>
<p>Select <strong>Retrieve secret value</strong> to view the secret value.</p>
</li>
<li>
<p>Select <strong>Edit</strong> and provide an updated password value.</p>
</li>
<li>
<p>Click btn:[Save].</p>
</li>
<li>
<p>Replace the running Ansible Automation Platform EC2 instances to use the new Administrator password.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Navigate to the AWS EC2 Instances console.</p>
</li>
<li>
<p>Identify and Terminate one automation controller instance and one automation hub instance for the CloudFormation Stack.</p>
</li>
<li>
<p>Wait for the automation controller Auto Scale group and the automation hub Auto Scaling group to create new EC2 instances.</p>
</li>
</ol>
</div>
</li>
<li>
<p>The new Administrator can be used when the new automation controller and automation hub EC2 instances reach a <em>Running</em> instance state.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="ref-aap-aws-additional-configs-update-rds-password"><a class="anchor" href="#ref-aap-aws-additional-configs-update-rds-password"></a>5.2. Changing the default RDS database password</h3>
<div class="paragraph">
<p>The default RDS database password for Ansible Automation Platform is generated randomly when Ansible Automation Platform from AWS Marketplace is deployed.
Follow these steps to change the RDS password:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the <strong>AWS Secrets Manager</strong> console, locate the correct secret for the CloudFormation Stack by selecting the secret with the name <em>&lt;stack_name&gt;-aap-rds-secret</em>.</p>
</li>
<li>
<p>Selecting <strong>Retrieve secret value</strong> to view the secret value.</p>
</li>
<li>
<p>Select <strong>Edit</strong> and provide an updated password value.</p>
</li>
<li>
<p>Click btn:[Save].</p>
</li>
<li>
<p>Update the automation hub EC2 instance with the new RDS password.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Navigate to the AWS EC2 Instances console</p>
</li>
<li>
<p>Identify and connect to the automation hub instance for the CloudFormation Stack.</p>
</li>
<li>
<p>Install the <code>postgresql</code> package using</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># dnf install postgresql</pre>
</div>
</div>
</li>
<li>
<p>View the database settings from the following file - <code>/etc/pulp/settings.py</code>. Variables shown here are used in following steps.</p>
</li>
<li>
<p>Run</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ psql -h &lt;DB_HOST&gt; -U awx</pre>
</div>
</div>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>When prompted for password: enter &lt;DB_PASSWORD&gt;</p>
</li>
</ol>
</div>
</li>
<li>
<p>Run</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ ALTER USER awx WITH PASSWORD &lt;UPDATED_PASSWORD&gt;;</pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Replace the running Ansible Automation Platform EC2 instances to use the new RDS password.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Navigate to the AWS EC2 Instances console.</p>
</li>
<li>
<p>Terminate all EC2 instances.
The autoscale group restarts them.</p>
</li>
<li>
<p>Wait for the automation controller Auto Scale group and the automation hub Auto Scaling group to create new EC2 instances.</p>
</li>
<li>
<p>The new RDS can be used when the new automation controller and automation hub EC2 instances reach a <em>Running</em> Instance State.</p>
</li>
<li>
<p>To validate the RDS password has been changed -</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Identify and connect to the automation hub instance for the CloudFormation Stack.</p>
</li>
<li>
<p>View the updated database settings from the following file - <code>/etc/pulp/settings.py</code>.</p>
</li>
<li>
<p>Attempt to connecct using the following sample connection string:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">psql postgresql://&lt;DB_USER&gt;:&lt;DB_PASSWORD&gt;@&lt;DB_HOST&gt;:&lt;DB_PORT&gt;/&lt;DB_NAME&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Variable definitions can be found in the settings file.</p>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="assembly-aap-aws-automation-workloads"><a class="anchor" href="#assembly-aap-aws-automation-workloads"></a>6. Automation workloads</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ansible Automation Platform from AWS Marketplace is designed to automate the number of managed nodes included with the offer identified at purchase time, typically 100 nodes.
Consult your AWS offer used when deploying Ansible Automation Platform from AWS Marketplace.</p>
</div>
<div class="sect2">
<h3 id="ref-aap-aws-automation-performance"><a class="anchor" href="#ref-aap-aws-automation-performance"></a>6.1. Automation performance</h3>
<div class="paragraph">
<p>Automating against the managed node allotment in the offer is provided with the following operational expectations.
Automating outside of the boundaries of these criteria is not supported, but can still function depending on your automation.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Metric</th>
<th class="tableblock halign-left valign-top">Threshold</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Concurrent Jobs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Forks per job</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">55</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Ansible Automation Platform from AWS Marketplace is driven using three m5.large instances, two of which run Ansible Automation Platform and automation controller and one which runs automation hub.
The automation controller instances collectively support a standard workload of 100 managed active nodes.
This operating criteria also supports up to 10 forks for each node.
The operating criteria was set and tested using output-intensive, chatty workloads that produce 2 messages 7 seconds apart on both automation controller nodes.
Workloads that are more I/O intensive might not work inside the boundaries of these conditions and can require the use of extension nodes to scale the deployment to support such automation.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="con-aap-aws-deployment-scaling"><a class="anchor" href="#con-aap-aws-deployment-scaling"></a>6.2. Deployment scaling</h3>
<div class="paragraph">
<p>Extension nodes will become available after the initial release of Ansible Automation Platform from AWS Marketplace.
This documentation will be updated to describe how to purchase and connect extension nodes at that time.</p>
</div>
<div class="paragraph">
<p>If you want to scale your deployment beyond the initial number of supported managed nodes, Ansible Automation Platform from AWS Marketplace can be manually scaled using separately sold extension nodes.
Extension nodes are additional compute instances that can be deployed to scale-up or scale-out depending on the immediate scaling requirements.
If your requirements are for higher parallel automation operations you can select compute shapes that scale-up, while if you have a requirement to automate more nodes over time you can select compute shapes that scale out.</p>
</div>
<div class="paragraph">
<p>Extension nodes are the supported way of extending the capabilities of Ansible Automation Platform from AWS Marketplace.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Red Hat does not support environments that are extended through customer design and implementation.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="assembly-aap-aws-support"><a class="anchor" href="#assembly-aap-aws-support"></a>7. Support</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ansible Automation Platform from AWS Marketplace is a <em>self-managed</em> deployment.
When the application is deployed into your AWS infrastructure, customers are responsible for the maintenance of the AWS infrastructure, OS patching, and Ansible Automation Platform patching.</p>
</div>
<div class="paragraph">
<p>Red Hat does not support changes to the infrastructure resources deployed as part of the solution unless there is documentation by Red Hat describing the process, such as in route table configuration for networking or documented upgrade processes.
Adding additional compute resources outside of extension nodes voids Red Hat support for Ansible Automation Platform from AWS Marketplace deployment.</p>
</div>
<div class="paragraph">
<p>Upgrades to Ansible Automation Platform from AWS Marketplace will be performed differently from self-installed Ansible Automation Platform.
Upgrading individual packages on virtual machines using <code>dnf</code> or other means is also not supported.
When upgrades are available, upgrade instructions will be provided in this documentation with relevant content for each upgrade.</p>
</div>
<div class="paragraph">
<div class="title">Supported infrastructure configuration changes</div>
<p>Red Hat supports changes to the folllowing options:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>VPC Route Table configuration</p>
</li>
<li>
<p>VPC Security Group configuration</p>
</li>
<li>
<p>VPC Load balancer configuration</p>
</li>
<li>
<p>EC2 Block Storage expansion</p>
</li>
<li>
<p>DNS and <code>resolv.conf</code> files</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Red Hat responsibilities</div>
<p>Red Hat has the following responsibilities:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Premium support for Ansible Automation Platform</p>
</li>
<li>
<p>Directions and how-to-processes for upgrading Ansible Automation Platform</p>
</li>
<li>
<p>Providing vulnerability fixes for Ansible Automation Platform and for third-party packages included with Ansible Automation Platform from AWS Marketplace.</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Customer responsibilities</div>
<p>You have the following responsibilities:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>AWS Infrastructure uptime</p>
</li>
<li>
<p>AWS Infrastructure changes, for example, increasing block storage sizes</p>
</li>
<li>
<p>AWS network peering and configuration</p>
</li>
<li>
<p>EC2 operating system upgrades</p>
</li>
<li>
<p>Backing up AWS resources</p>
</li>
<li>
<p>Application of Ansible Automation Platform upgrades</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2022-12-08 14:28:46 UTC
</div>
</div>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
})
MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains("stemblock")) {
      data.math.root.display = "block"
    }
    return data
  })
})
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
</body>
</html>