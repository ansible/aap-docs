[[aap-25-20250507]]

= {PlatformNameShort} patch release May 7, 2025

This release includes the following components and versions:

[cols="1a,3a", options="header"]
|===
| Release date | Component versions

| May 7, 2025  | 
* {ControllerNameStart} 4.6.12
* {HubNameStart} 4.10.4
* {EDAName} 1.1.8
* Container-based installer {PlatformNameShort} (bundle) 2.5-13
* Container-based  installer {PlatformNameShort} (online) 2.5-13
* Receptor 1.5.5
* RPM-based installer {PlatformNameShort} (bundle) 2.5-12
* RPM-based installer {PlatformNameShort} (online) 2.5-12

|===

CSV Versions in this release:

* Namespace-scoped Bundle: aap-operator.v2.5.0-0.1746137767

* Cluster-scoped Bundle: aap-operator.v2.5.0-0.1746138413


== General

* Implemented GitHub application credential type.(AAP-38589)

* The ansible.platform collection has been updated to 2.5.20250507.(AAP-44992)

* The ansible.controller collection has been updated to 4.6.12.

* The ansible.eda collection has been updated to 2.7.0.

== Features

=== {PlatformNameShort}

Adds an enhanced log viewer for rulebook activation instances similar to the job output logger.(AAP-43337)

=== Container-based {PlatformNameShort}

Implemented a playbook to collect sos reports using the inventory file.(AAP-42606)

=== {EDAName}

* {EDAName} now submits analytics data.(AAP-40881)

* Enabled {EDAName} analytics data to be uploaded to the cloud. This feature is guarded by a feature flag.(AAP-42468)

* Added a log tracking id to each log message labelled as [tid: uuid-pattern].(AAP-42270)

* Improved the user experience of managing rulebook activations in {EDAName} by introducing an edit capability.(AAP-33067)

* The following datapoints {EDAName} now collects for analytics for MVP:

** Eventsources used in {EDAName}.

** Eventstreams used in {EDAName}.

** Version of {EDAName} installed.

** Installation type (container/OCP/VM).

** Platform organizations in {EDAName}.

** Which controller job template was launched from a rulebook activation.(AAP-31458)

* {EDAName} `gather_analytics` command now runs on schedule as an internal task.(AAP-30063)

* {EDAName} now writes analytics data collector that sends payloads to *console.redhat.com*.(AAP-30055)

* Add `x-request-id` to each log message labelled as `[rid:uuid-pattern]`.(AAP-42269)


== Enhancements


=== {PlatformNameShort}

* Updated {Gateway} to adopt selected standard component for settings mechanism.(AAP-34939)

* Refactored the authenticate() method inside the `AuthenticatorPlugin` class in `legacy_password.py` and `legacy_sso.py` to their common parent `LegacyMixin`. Added comments to classes and their methods for code clarity.(AAP-44460)


=== {OperatorPlatformNameShort}

* * Fixed an issue where the Lightspeed Operator would not use the `ANSIBLE_AI_MODEL_MESH_CONFIG`.(AAP-41335)

* Extended CCSP and renewal guidance reports to include inventory scope and node/host details.(AAP-38802)


=== {ControllerNameStart}

* Updated the pinned version of `receptorctl` in controller to 1.5.5.(AAP-44823)

* Updated the pinned version for `ansible-runner` in `ControllerName`.(AAP-43357)


=== Container-based {PlatformNameShort}

* Added new variable `use_archive_compression` with default `value: true`. Added new variable component `Name_use_archive_compression` for each component with the default `value: true`.(AAP-41242)


=== {EDAName}

* {EDAName} collection standardization enhancements.(AAP-41402)

* Relevant settings and versions are emitted in logs when the ansible-rulebook starts in worker mode.(AAP-40781)

* Added log entries with settings and version at startup.(AAP-40781)

* Enhances the {PlatformNameShort} injectors for `eda-server` to include common platform variables as `extra_vars` or environment variables if they are specified.(AAP-43029)

* {EDAName} decision environment validation errors now display under the decision environment text box in the decision environment UI page.(AAP-42147)

* Added a controller URL check for the CLI.(AAP-41575)

* If a source plugin terminates you are now able to see the stack trace with the source file name, the function name, and line number.(AAP-41774)


=== RPM-based {PlatformNameShort}

* Added compression for archive and database artifacts used in backup/restore

** Updated database filename used for controller `pg_dump` from tower to {ControllerName} while maintaining backward compatibility for backups using `tower.db` filename.(AAP-42055)


== Bug fixes

With this update, the following CVEs have been addressed:

link:https://access.redhat.com/security/cve/cve-2025-26699[CVE-2025-26699] a`utomation-controller`: Potential denial-of-service vulnerability in `django.utils.text.wrap()`.(AAP-41139)


=== {PlatformNameShort}

* Fixed an issue where In AAP 2.5, the user needed to press Ctrl+Enter to start a new line.(AAP-43499)

* Fixed an issue where the change anchor tag on API html view violated semantic rules.   (AAP-43802)

* LDAP Authenticator field `USER_SEARCH` field now properly supports LDAP Unions. Previously you could only define one search term in the field like:

====
[
    "ou=users,dc=example,dc=com",
    "SCOPE_SUBTREE",
    "uid=%(user)s"
]

[
        "ou=users,dc=example,dc=com",
        "SCOPE_SUBTREE",
        "uid=%(user)s"
    ],
     [
        "ou=users,dc=example,dc=com",
        "SCOPE_SUBTREE",
        "uid=%(user)s"
    ]
]
====

* `USER_DN_TEMPLATE` will still take precedence over the `USER_SEARCH` field. If non-unique users are found when performing multiple searches, those users will be unable to login to {PlatformNameShort}.(AAP-42883)

* Fixed an issue where there was a file not found error with Dynaconf.(AP-43144)

* Fixed an issue where dynaconf mishandled the openapi schema.(AAP-43143)

* Fixed an issue when editing an authenticator with a large number of Organization/Team mappings in platform-gateway would affect the loading time of the web page, potentially making the page unresponsive.(AAP-40963)

* Fixed an issue where unreachable hosts were not being filtered out of CCSP reports usage.(AAP-38735)

* Fixed an issue where the X-DAB-JW-TOKEN header message would flood logs.(AAP-38169)

* Fixed an issue where after upgrading to {PlatformNameShort} 2.5 managed on Azure, the ability to see job output while the job was running was lost. (AAP-43894)

* Fixed an issue where customers were not allowed  to view output details for filtered job outputs.(AAP-38925)

* Fixed an issue where unreachable hosts from CCSP usage reports were not excluded.(AAP-38735)

* Fixed an issue where indirect hosts were being counted in the first tab as quantity.(AAP-44676)

* Fixed an issue where the platform-gateway could not be installed with a different name for the admin user.(AAP-44180)

* Fixed an issue where an {PlatformNameShort} UI session was being logged out even if the user is actively working.(AAP-43622)

* Fixed an issue where exceptions handled on SSO login were not allowing for error messages to be properly captured.(AAP-43369)

* Fixed an issue where the job output was slow and making it hard to read due to missing parts of the output.(AAP-41434)

* Fixed an issue where the user was unable to edit an existing rulebook activation.(AAP-37299)



=== {OperatorPlatformNameShort}

* Fixed an issue where the pod affinity/anti-affinity was not configurable for the aap-gateway-operator to allow for pod placement on unique nodes.(AAP-42983)

* Fixed an issue where Ansible Lightspeed was incorrectly passing DAB settings.(AAP-43542)

* Fixed an issue where the Lightspeed Operator WCA configuration was not optional.(AAP-42370)

* Fixed an issue where status.conditions validation would not allow auto-reporting errors on CR statuses.(AAP-44081)

* Fixed an issue where the {PlatformNameShort} gateway had the incorrect Lightspeed deployment name.(AAP-43837)

* Fixed an issue where Lightspeed devel CRD was incompatible with 2.5 CRD.(AAP-43657)

* Fixed an issue where status.conditions validation was not allowing auto-reporting errors on the CR statuses.(AAP-44083)

If the user is migrating between OpenShift Operator on AAP 2.5 fails because of a postgres permission issue. The automation-controller operator now grants permission to the controller user to avoid permissions errors when migrating the data.(AAP-44846)

* Fixed an issue where there was an Intermittent 502 Bad Gateway error on {PlatformNameShort} 2.5 operator deployment.(AAP-44176)



=== Container based {PlatformNameShort}




=== {ExecEnvNameStart}




=== {EDAName}




=== RPM-based {PlatformNameShort}




== Known Issues


