<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.20">
<title>Managing content in automation hub</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article Role ARG Spec">
<div id="header">
<h1>Managing content in automation hub</h1>
</div>
<div id="content">
<div class="sect1">
<h2 id="making-open-source-more-inclusive">Making open source more inclusive</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Red Hat is committed to replacing problematic language in our code, documentation, and web properties.
We are beginning with these four terms: master, slave, blacklist, and whitelist.
Because of the enormity of this endeavor, these changes will be implemented gradually over several upcoming releases.
For more details, see <a href="https://www.redhat.com/en/blog/making-open-source-more-inclusive-eradicating-problematic-language">our CTO Chris Wright&#8217;s message</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="providing-feedback">Providing feedback on Red Hat documentation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you have a suggestion to improve this documentation, or find an error, please contact technical support at <a href="https://access.redhat.com">https://access.redhat.com</a> to create an issue on the Ansible Automation Platform Jira project using the <strong>docs-product</strong> component.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="managing-cert-valid-content">1. Red Hat Certified, validated, and Ansible Galaxy content in automation hub</h2>
<div class="sectionbody">
<div class="paragraph _abstract">
<p>Ansible Certified Content Collections are included in your subscription to Red Hat Ansible Automation Platform. Red Hat Ansible content includes two types of content: Ansible Certified Content Collections and Ansible validated content.
Using Ansible automation hub, you can access and curate a unique set of collections from all forms of Ansible content.</p>
</div>
<div class="paragraph">
<p>Red Hat Ansible content contains two types of content:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Ansible Certified Content Collections</p>
</li>
<li>
<p>Ansible validated content collections</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Ansible validated collections are available in your private automation hub through the Platform Installer.
When you download Red Hat Ansible Automation Platform with the bundled installer, validated content is pre-populated into the private automation hub by default, but only if you enable the private automation hub as part of the inventory.</p>
</div>
<div class="paragraph">
<p>If you are not using the bundle installer, you can use a Red Hat supplied Ansible playbook to install validated content.
For further information, see <a href="#assembly-validated-content">Ansible validated content</a>.</p>
</div>
<div class="paragraph">
<p>You can update these collections manually by downloading their packages.</p>
</div>
<h3 id="_why_certify_ansible_collections" class="discrete">Why certify Ansible collections?</h3>
<div class="paragraph">
<p>The Ansible certification program enables a shared statement of support for Red Hat Ansible Certified Content between Red Hat and the ecosystem partner.
An end customer, experiencing trouble with Ansible and certified partner content, can open a support ticket, for example, a request for information, or a problem with Red Hat, and expect the ticket to be resolved by Red Hat and the ecosystem partner.</p>
</div>
<div class="paragraph">
<p>Red Hat offers go-to-market benefits for Certified Partners to grow market awareness, generate demand, and sell collaboratively.</p>
</div>
<div class="paragraph">
<p>Red Hat Ansible Certified Content Collections are distributed through Ansible automation hub (subscription required), a centralized repository for jointly supported Ansible Content.
As a certified partner, publishing collections to Ansible automation hub provides end customers the power to manage how trusted automation content is used in their production environment with a well-known support life cycle.</p>
</div>
<div class="paragraph">
<p>For more information about getting started with certifying a solution, see <a href="https://connect.redhat.com/en/partner-with-us/red-hat-ansible-automation-certification">Red Hat Partner Connect</a>.</p>
</div>
<h3 id="_how_do_i_get_a_collection_certified" class="discrete">How do I get a collection certified?</h3>
<div class="paragraph">
<p>For instructions on certifying your collection, see the Ansible certification policy guide on <a href="http://www.ansible.com/partners">Red Hat Partner Connect</a>.</p>
</div>
<h3 id="_how_does_the_joint_support_agreement_on_certified_collections_work" class="discrete">How does the joint support agreement on Certified Collections work?</h3>
<div class="paragraph">
<p>If a customer raises an issue with the Red Hat support team about a certified collection, Red Hat support assesses the issue and checks whether the problem exists within Ansible or Ansible usage.
They also check whether the issue is with a certified collection.
If there is a problem with the certified collection, support teams transfer the issue to the vendor owner of the certified collection through an agreed upon tool such as TSANet.</p>
</div>
<h3 id="_can_i_create_and_certify_a_collection_containing_only_ansible_roles" class="discrete">Can I create and certify a collection containing only Ansible Roles?</h3>
<div class="paragraph">
<p>You can create and certify collections that contain only roles.
Current testing requirements are focused on collections containing modules, and additional resources are currently in progress for testing collections only containing roles.
Contact <a href="mailto:ansiblepartners@redhat.com">ansiblepartners@redhat.com</a> for more information.</p>
</div>
<div class="sect2">
<h3 id="assembly-synclists">1.1. Synchronizing Ansible Content Collections in automation hub</h3>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>As of the 2.4 release you can still synchronize content, but synclists are deprecated, and will be removed in a future version.</p>
</div>
<div class="paragraph">
<p>To synchronize content, you can now upload a manually-created requirements file from the rh-certified remote.</p>
</div>
<div class="paragraph">
<p>Remotes are configurations that enable you to synchronize content to your custom repositories from an external collection source.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can use Ansible automation hub to distribute the relevant Red Hat Ansible Certified Content Collections to your users by creating synclists or a requirements file. For more information about using requirements files, see <a href="https://docs.ansible.com/ansible/latest/collections_guide/collections_installing.html#install-multiple-collections-with-a-requirements-file">Install multiple collections with a requirements file</a> in the <em>Using Ansible collections</em> guide.</p>
</div>
<div class="sect3">
<h4 id="con-rh-certified-synclist">1.1.1. Explanation of Red Hat Ansible Certified Content Collections synclists</h4>
<div class="paragraph">
<p>A synclist is a curated group of Red Hat Certified Collections that is assembled by your organization administrator.
It synchronizes with your local Ansible automation hub.
Use synclists to manage only the content that you want and exclude unnecessary collections.
Design and manage your synclist from the content available as part of Red Hat content on console.redhat.com</p>
</div>
<div class="paragraph">
<p>Each synclist has its own unique repository URL that you can use to designate as a remote source for content in automation hub.
You securely access each synclist by using an API token.</p>
</div>
</div>
<div class="sect3">
<h4 id="proc-create-synclist">1.1.2. Creating a synclist of Red Hat Ansible Certified Content Collections</h4>
<div class="paragraph">
<p>You can create a synclist of curated Red Hat Ansible Certified Content in Ansible automation hub on console.redhat.com.
Your synclist repository is located under <span class="menuseq"><b class="menu">Automation Hub</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">Repositories</b></span>, which is updated whenever you manage content within Ansible Certified Content Collections.</p>
</div>
<div class="paragraph">
<p>All Ansible Certified Content Collections are included by default in your initial organization synclist.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have a valid Ansible Automation Platform subscription.</p>
</li>
<li>
<p>You have Organization Administrator permissions for console.redhat.com.</p>
</li>
<li>
<p>The following domain names are part of either the firewall or the proxy&#8217;s allowlist.
They are required for successful connection and download of collections from automation hub or Galaxy server:</p>
<div class="ulist">
<ul>
<li>
<p><code>galaxy.ansible.com</code></p>
</li>
<li>
<p><code>cloud.redhat.com</code></p>
</li>
<li>
<p><code>console.redhat.com</code></p>
</li>
<li>
<p><code>sso.redhat.com</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Ansible automation hub resources are stored in Amazon Simple Storage.
The following domain names must be in the allow list:</p>
<div class="ulist">
<ul>
<li>
<p><code>automation-hub-prd.s3.us-east-2.amazonaws.com</code></p>
</li>
<li>
<p><code>ansible-galaxy.s3.amazonaws.com</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>SSL inspection is disabled either when using self signed certificates or for the Red Hat domains.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Log in to <code>console.redhat.com</code>.</p>
</li>
<li>
<p>Navigate to <span class="menuseq"><b class="menu">Automation Hub</b>&#160;<b class="caret">&#8250;</b> <b class="submenu">Collections</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">Collections</b></span>.</p>
</li>
<li>
<p>Set the toggle switch on each collection to exclude or include it on your synclist.</p>
</li>
<li>
<p>To initiate the remote repository synchronization, navigate to <span class="menuseq"><b class="menu">Automation Hub</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">Repositories</b></span>.</p>
</li>
<li>
<p>Click the <b class="button">More Actions</b> icon <strong>&#8942;</strong> and select <strong>Sync</strong> to initiate the remote repository synchronization to your private automation hub.</p>
</li>
<li>
<p>Optional: If your remote repository is already configured, update the collections content that you made available to local users by manually synchronizing Red Hat Ansible Certified Content Collections to your private automation hub.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="assembly-creating-tokens-in-automation-hub">1.2. Configuring Ansible automation hub remote repositories to synchronize content</h3>
<div class="paragraph">
<p>Use remote configurations to configure your private automation hub to synchronize with Ansible Certified Content Collections hosted on <code>console.redhat.com</code> or with your collections in Ansible Galaxy.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>As of the 2.4 release you can still synchronize content, but synclists are deprecated, and will be removed in a future version.</p>
</div>
<div class="paragraph">
<p>To synchronize content, you can now upload a manually-created requirements file from the rh-certified remote.</p>
</div>
<div class="paragraph">
<p>Remotes are configurations that allow you to synchronize content to your custom repositories from an external collection source.</p>
</div>
</td>
</tr>
</table>
</div>
<h4 id="_whats_the_difference_between_ansible_galaxy_and_ansible_automation_hub" class="discrete">Whatâ€™s the difference between Ansible Galaxy and Ansible automation hub?</h4>
<div class="paragraph">
<p>Collections published to Ansible Galaxy are the latest content published by the Ansible community and have no joint support claims associated with them.
Ansible Galaxy is the recommended frontend directory for the Ansible community accessing content.</p>
</div>
<div class="paragraph">
<p>Collections published to Ansible automation hub are targeted for joint customers of Red Hat and selected partners.
Customers need an Ansible subscription to access and download collections on Ansible automation hub.
A certified collection means that Red Hat and partners have a strategic relationship in place and are ready to support joint customers, and may have had additional testing and validation done against them.</p>
</div>
<h4 id="_how_do_i_request_a_namespace_on_ansible_galaxy" class="discrete">How do I request a namespace on Ansible Galaxy?</h4>
<div class="paragraph">
<p>To request a namespace through an Ansible Galaxy GitHub issue, follow these steps:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Send an email to <a href="mailto:ansiblepartners@redhat.com">ansiblepartners@redhat.com</a></p>
</li>
<li>
<p>Include the GitHub username used to sign up on Ansible Galaxy.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You must have logged in at least once for the system to validate.</p>
</div>
<div class="paragraph">
<p>After users are added as administrators of the namespace, you can use the self-serve process to add more administrators.</p>
</div>
<h4 id="_are_there_any_restrictions_for_ansible_galaxy_namespace_naming" class="discrete">Are there any restrictions for Ansible Galaxy namespace naming?</h4>
<div class="paragraph">
<p>Collection namespaces must follow python module name convention.
This means collections should have short, all lowercase names.
You can use underscores in the collection name if it improves readability.</p>
</div>
<div class="sect3">
<h4 id="con-remote-repos">1.2.1. Reasons to create remote configurations</h4>
<div class="paragraph">
<p>Each remote configuration located in <span class="menuseq"><b class="menu">Automation Hub</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">Remotes</b></span> provides information for both the <strong>community</strong> and <strong>rh-certified</strong> repository about when the repository was <strong>last updated</strong>.
You can add new content to Ansible automation hub at any time using the <strong>Edit</strong> and <strong>Sync</strong> features included on the <span class="menuseq"><b class="menu">Automation Hub</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">Repositories</b></span> page.</p>
</div>
</div>
<div class="sect3">
<h4 id="proc-create-api-token">1.2.2. Retrieving the API token for your Red Hat Certified Collection</h4>
<div class="paragraph">
<p>You can synchronize Ansible Certified Content Collections curated by your organization from <code>console.redhat.com</code> to your private automation hub.
The API token is a secret token used to protect your content.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have organization administrator permissions to create the synclist on console.redhat.com.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Log in to <code>console.redhat.com</code> as an organization administrator.</p>
</li>
<li>
<p>Navigate to <span class="menuseq"><b class="menu">Automation Hub</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">Connect to Hub</b></span>.</p>
</li>
<li>
<p>Under <strong>Offline token</strong>, click <b class="button">Load token</b>.</p>
</li>
<li>
<p>Click <b class="button">Copy to clipboard</b> to copy the API token.</p>
</li>
<li>
<p>Paste the API token into a file and store in a secure location.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="proc-set-rhcertified-remote">1.2.3. Configuring the rh-certified remote repository and synchronizing Red Hat Ansible Certified Content Collection</h4>
<div class="paragraph">
<p>You can edit the <strong>rh-certified</strong> remote repository to synchronize collections from automation hub hosted on console.redhat.com to your private automation hub.
By default, your private automation hub <code>rh-certified</code> repository includes the URL for the entire group of Ansible Certified Content Collections.</p>
</div>
<div class="paragraph">
<p>To use only those collections specified by your organization, a private automation hub administrator can upload manually-created requirements files from the <code>rh-certified</code> remote.</p>
</div>
<div class="paragraph">
<p>For more information about using requirements files, see <a href="https://docs.ansible.com/ansible/latest/collections_guide/collections_installing.html#install-multiple-collections-with-a-requirements-file">Install multiple collections with a requirements file</a> in the <em>Using Ansible collections</em> guide.</p>
</div>
<div class="paragraph">
<p>If you have collections <code>A</code>, <code>B</code>, and <code>C</code> in your requirements file, and a new collection <code>X</code> is added to console.redhat.com that you want to use, you must add <code>X</code> to your requirements file for private automation hub to synchronize it.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have valid <strong>Modify Ansible repo content</strong> permissions.
For more information on permissions, see <a href="https://access.redhat.com/documentation/en-us/red_hat_ansible_automation_platform/2.4/html/getting_started_with_automation_hub/assembly-user-access">Managing user access in automation hub</a>.</p>
</li>
<li>
<p>You have retrieved the Sync URL and API Token from the automation hub hosted service on console.redhat.com.</p>
</li>
<li>
<p>You have configured access to port 443. This is required for synchronizing certified collections. For more information, see the automation hub table in the <a href="https://access.redhat.com/documentation/en-us/red_hat_ansible_automation_platform/2.4/html/red_hat_ansible_automation_platform_planning_guide/ref-network-ports-protocols_planning">Network ports and protocols</a> chapter of the Red Hat Ansible Automation Platform Planning Guide.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Log in to your private automation hub.</p>
</li>
<li>
<p>From the Automation Content menu on the navigation panel, select <strong><span class="menuseq"><b class="menu">Administration</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">Remotes</b></span></strong>.</p>
</li>
<li>
<p>In the <strong>rh-certified</strong> remote repository, click the <b class="button">More Actions</b> icon <strong>&#8942;</strong> and click <b class="button">Edit</b>.</p>
</li>
<li>
<p>In the <strong>URL</strong> field, paste the <strong>Sync URL</strong>.</p>
</li>
<li>
<p>In the <strong>Token</strong> field, paste the token you acquired from console.redhat.com.</p>
</li>
<li>
<p>Click <b class="button">Save</b>.</p>
<div class="paragraph">
<p>You can now synchronize collections between your organization synclist on console.redhat.com and your private automation hub.</p>
</div>
</li>
<li>
<p>Click the <b class="button">More Actions</b> icon <strong>&#8942;</strong> and select <strong>Sync</strong>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Verification</div>
<p>The <strong>Sync status</strong> notification updates to notify you that the Red Hat Certified Content Collections synchronization is complete.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Select <strong>Red Hat Certified</strong> from the collections content drop-down list to confirm that your collections content has synchronized successfully.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="proc-set-community-remote">1.2.4. Configuring the community remote repository and syncing Ansible Galaxy collections</h4>
<div class="paragraph">
<p>You can edit the <strong>community</strong> remote repository to synchronize chosen collections from Ansible Galaxy to your private automation hub.
By default, your private automation hub community repository directs to <code>galaxy.ansible.com/api/</code>.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have <strong>Modify Ansible repo content</strong> permissions.
For more information on permissions, see <a href="https://access.redhat.com/documentation/en-us/red_hat_ansible_automation_platform/2.4/html/getting_started_with_automation_hub/assembly-user-access">Managing user access in automation hub</a>.</p>
</li>
<li>
<p>You have a <code>requirements.yml</code> file that identifies those collections to synchronize from Ansible Galaxy as in the following example:</p>
<div class="listingblock">
<div class="title">Requirements.yml example</div>
<div class="content">
<pre>collections:
  # Install a collection from Ansible Galaxy.
  - name: community.aws
    version: 5.2.0
    source: https://galaxy.ansible.com</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Log in to Ansible Automation Platform.</p>
</li>
<li>
<p>From the Automation Content menu on the navigation panel, select <strong><span class="menuseq"><b class="menu">Administration</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">Remotes</b></span></strong>.</p>
</li>
<li>
<p>In the <strong>Community</strong> remote, click the <b class="button">More Actions</b> icon <strong>&#8942;</strong> and select <strong>Edit</strong>.</p>
</li>
<li>
<p>In the <strong>YAML requirements</strong> field, click <b class="button">Browse</b> and locate the <code>requirements.yml</code> file on your local machine.</p>
</li>
<li>
<p>Click <b class="button">Save</b>.</p>
<div class="paragraph">
<p>You can now synchronize collections identified in your <code>requirements.yml</code> file from Ansible Galaxy to your private automation hub.</p>
</div>
</li>
<li>
<p>Click the <b class="button">More Actions</b> icon <strong>&#8942;</strong> and select <strong>Sync</strong> to sync collections from Ansible Galaxy and Ansible automation hub.</p>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Verification</div>
<p>The <strong>Sync status</strong> notification updates to notify you of completion or failure of Ansible Galaxy collections synchronization to your Ansible automation hub.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Select <strong>Community</strong> from the collections content drop-down list to confirm successful synchronization.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="assembly-collections-and-content-signing-in-pah">1.3. Collections and content signing in private automation hub</h3>
<div class="paragraph">
<p>As an automation administrator for your organization, you can configure private automation hub for signing and publishing Ansible content collections from different groups within your organization.</p>
</div>
<div class="paragraph">
<p>For additional security, automation creators can configure Ansible-Galaxy CLI to verify these collections to ensure that they have not been changed after they were uploaded to automation hub.</p>
</div>
<div class="sect3">
<h4 id="proc-configure-content-signing-on-pah">1.3.1. Configuring content signing on private automation hub</h4>
<div class="paragraph">
<p>To successfully sign and publish Ansible Certified Content Collections, you must configure private automation hub for signing.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Your GnuPG key pairs have been securely set up and managed by your organization.</p>
</li>
<li>
<p>Your public-private key pair has proper access for configuring content signing on private automation hub.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create a signing script that accepts only a filename.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>This script acts as the signing service and must generate an ascii-armored detached <code>gpg</code> signature for that file using the key specified through the <code>PULP_SIGNING_KEY_FINGERPRINT</code> environment variable.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The script prints out a JSON structure with the following format.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{"file": "filename", "signature": "filename.asc"}</pre>
</div>
</div>
<div class="paragraph">
<p>All the file names are relative paths inside the current working directory.
The file name must remain the same for the detached signature.</p>
</div>
<div class="paragraph">
<div class="title">Example:</div>
<p>The following script produces signatures for content:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">#!/usr/bin/env bash

FILE_PATH=$1
SIGNATURE_PATH="$1.asc"

ADMIN_ID="$PULP_SIGNING_KEY_FINGERPRINT"
PASSWORD="password"

# Create a detached signature
gpg --quiet --batch --pinentry-mode loopback --yes --passphrase \
   $PASSWORD --homedir ~/.gnupg/ --detach-sign --default-key $ADMIN_ID \
   --armor --output $SIGNATURE_PATH $FILE_PATH

# Check the exit status
STATUS=$?
if [ $STATUS -eq 0 ]; then
   echo {\"file\": \"$FILE_PATH\", \"signature\": \"$SIGNATURE_PATH\"}
else
   exit $STATUS
fi</code></pre>
</div>
</div>
<div class="paragraph">
<p>After you deploy a private automation hub with signing enabled to your Ansible Automation Platform cluster, new UI additions are displayed in collections.</p>
</div>
</li>
<li>
<p>Review the Ansible Automation Platform installer inventory file for options that begin with <code>automationhub_*</code>.</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>[all:vars]
.
.
.
automationhub_create_default_collection_signing_service = True
automationhub_auto_sign_collections = True
automationhub_require_content_approval = True
automationhub_collection_signing_service_key = /abs/path/to/galaxy_signing_service.gpg
automationhub_collection_signing_service_script = /abs/path/to/collection_signing.sh</code></pre>
</div>
</div>
<div class="paragraph">
<p>The two new keys (<strong>automationhub_auto_sign_collections</strong> and <strong>automationhub_require_content_approval</strong>) indicate that the collections must be signed and approved after they are uploaded to private automation hub.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="proc-using-content-signing-services-in-pah">1.3.2. Using content signing services in private automation hub</h4>
<div class="paragraph">
<p>After you have configured content signing on your private automation hub, you can manually sign a new collection or replace an existing signature with a new one.
When users download a specific collection, this signature indicates that the collection is for them and has not been modified after certification.</p>
</div>
<div class="paragraph">
<p>You can use content signing on private automation hub in the following scenarios:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Your system does not have automatic signing configured and you must use a manual signing process to sign collections.</p>
</li>
<li>
<p>The current signatures on the automatically configured collections are corrupted and need new signatures.</p>
</li>
<li>
<p>You need additional signatures for previously signed content.</p>
</li>
<li>
<p>You want to rotate signatures on your collections.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Log in to your Ansible Automation Platform.</p>
</li>
<li>
<p>From the Automation Content menu on the navigation panel, select <strong><span class="menuseq"><b class="menu">Administration</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">Collection Approvals</b></span></strong>.
The Approval dashboard opens and displays a list of collections.</p>
</li>
<li>
<p>Click <b class="button">Sign and approve</b> for each collection that you want to sign.</p>
</li>
</ol>
</div>
<div class="ulist">
<div class="title">Verification</div>
<ul>
<li>
<p>Verify that the collections you signed and manually approved are displayed in the <strong>Collections</strong> tab.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="proc-downloading-signature-public-keys">1.3.3. Downloading signature public keys</h4>
<div class="paragraph">
<p>After you sign and approve collections, download the signature public keys from the automation hub UI.
You must download the public key before you add it to the local system keyring.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Log in to your Ansible Automation Platform.</p>
</li>
<li>
<p>From the Automation Content menu on the navigation panel, select <strong><span class="menuseq"><b class="menu">Administration</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">Signature Keys</b></span></strong>.
The Signature Keys dashboard displays a list of multiple keys: collections and container images.</p>
<div class="ulist">
<ul>
<li>
<p>To verify collections, download the key prefixed with <code>collections-</code>.</p>
</li>
<li>
<p>To verify container images, download the key prefixed with <code>container-</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Choose one of the following methods to download your public key:</p>
<div class="ulist">
<ul>
<li>
<p>Select the menu icon and click <b class="button">Download Key</b> to download the public key.</p>
</li>
<li>
<p>Select the public key from the list and click the <em>Copy to clipboard</em> icon.</p>
</li>
<li>
<p>Click the drop-down menu under the <strong><em>Public Key</em></strong> tab and copy the entire public key block.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Use the public key that you copied to verify the content collection that you are installing.</p>
</div>
</div>
<div class="sect3">
<h4 id="proc-configure-ansible-galaxy-cli-verify">1.3.4. Configuring Ansible-Galaxy CLI to verify collections</h4>
<div class="paragraph">
<p>You can configure Ansible-Galaxy CLI to verify collections.
This ensures that downloaded collections are approved by your organization and have not been changed after they were uploaded to automation hub.</p>
</div>
<div class="paragraph">
<p>If a collection has been signed by automation hub, the server provides ASCII armored, GPG-detached signatures to verify the authenticity of <code>MANIFEST.json</code> before using it to verify the collectionâ€™s contents.
You must opt into signature verification by <a href="https://docs.ansible.com/ansible/devel/reference_appendices/config.html#galaxy-gpg-keyring">configuring a keyring</a> for <code>ansible-galaxy</code> or providing the path with the <code>--keyring</code> option.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Signed collections are available in automation hub to verify signature.</p>
</li>
<li>
<p>Certified collections can be signed by approved roles within your organization.</p>
</li>
<li>
<p>Public key for verification has been added to the local system keyring.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>To import a public key into a non-default keyring for use with <code>ansible-galaxy</code>, run the following command.</p>
<div class="listingblock">
<div class="content">
<pre>gpg --import --no-default-keyring --keyring ~/.ansible/pubring.kbx my-public-key.asc</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>In addition to any signatures provided by the automation hub, signature sources can also be provided in the requirements file and on the command line.
Signature sources should be URIs.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>To verify the collection name provided on the CLI with an additional signature, run the following command:</p>
<div class="listingblock">
<div class="content">
<pre>ansible-galaxy collection install namespace.collection
--signature https://examplehost.com/detached_signature.asc
--signature file:///path/to/local/detached_signature.asc --keyring ~/.ansible/pubring.kbx</pre>
</div>
</div>
<div class="paragraph">
<p>You can use this option multiple times to provide multiple signatures.</p>
</div>
</li>
<li>
<p>Confirm that the collections in a requirements file list any additional signature sources following the collection&#8217;s signatures key, as in the following example.</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml"># requirements.yml
collections:
  - name: ns.coll
    version: 1.0.0
    signatures:
      - https://examplehost.com/detached_signature.asc
      - file:///path/to/local/detached_signature.asc

ansible-galaxy collection verify -r requirements.yml --keyring ~/.ansible/pubring.kbx</code></pre>
</div>
</div>
<div class="paragraph">
<p>When you install a collection from automation hub, the signatures provided by the server are saved along with the installed collections to verify the collection&#8217;s authenticity.</p>
</div>
</li>
<li>
<p>(Optional) If you need to verify the internal consistency of your collection again without querying the Ansible Galaxy server, run the same command you used previously using the <code>--offline</code> option.</p>
</li>
</ol>
</div>
<h4 id="_are_there_any_recommendations_for_collection_naming" class="discrete">Are there any recommendations for collection naming?</h4>
<div class="paragraph">
<p>Create a collection with <code>company_name.product</code> format.
This format means that multiple products can have different collections under the company namespace.</p>
</div>
<h4 id="_how_do_i_get_a_namespace_on_ansible_automation_hub" class="discrete">How do I get a namespace on Ansible automation hub?</h4>
<div class="paragraph">
<p>By default namespaces used on Ansible Galaxy are also used on Ansible automation hub by the Ansible partner team.
For any queries and clarifications contact <a href="mailto:ansiblepartners@redhat.com">ansiblepartners@redhat.com</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="assembly-validated-content">1.4. Ansible validated content</h3>
<div class="paragraph">
<p>Red Hat Ansible Automation Platform includes Ansible validated content, which complements existing Red Hat Ansible Certified Content.</p>
</div>
<div class="paragraph">
<p>Ansible validated content provides an expert-led path for performing operational tasks on a variety of platforms from both Red Hat and our trusted partners.</p>
</div>
<div class="sect3">
<h4 id="_configuring_validated_collections_with_the_installer">1.4.1. Configuring validated collections with the installer</h4>
<div class="paragraph">
<p>When you download and run the bundle installer, certified and validated collections are automatically uploaded.
Certified collections are uploaded into the <code>rh-certified</code> repository.
Validated collections are uploaded into the <code>validated</code> repository.</p>
</div>
<div class="paragraph">
<p>You can change to default configuration by using two variables:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>automationhub_seed_collections</code> is a boolean that defines whether or not preloading is enabled.</p>
</li>
<li>
<p><code>automationhub_collection_seed_repository</code>. A variable that enables you to specify the type of content to upload when it is set to <code>true</code>.
Possible values are <code>certified</code> or <code>validated</code>.
If missing both content sets will be uploaded.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_installing_validated_content_using_the_tarball">1.4.2. Installing validated content using the tarball</h4>
<div class="paragraph">
<p>If you are not using the bundle installer, you can use a standalone tarball, <code>ansible-validated-content-bundle-1.tar.gz</code>.
You can also use this standalone tarball later to update validated contents in any environment, when a newer tarball becomes available, without having to re-run the bundle installer.</p>
</div>
<div class="paragraph">
<div class="title">Prerequisites</div>
<p>You require the following variables to run the playbook.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>automationhub_admin_password</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Your administration password.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>automationhub_api_token</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The API token generated for your automation hub.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>automationhub_main_url</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For example, <code>https://automationhub.example.com</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>automationhub_require_content_approval</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean (<code>true</code> or <code>false</code>)</p>
<p class="tableblock">This must match the value used during automation hub deployment.</p>
<p class="tableblock">This variable is set to <code>true</code> by the installer.</p></td>
</tr>
</tbody>
</table>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>To obtain the tarball, navigate to the <a href="https://access.redhat.com/downloads/content/480/ver=2.4/rhel---9/2.4/x86_64/product-software">Red Hat Ansible Automation Platform download</a> page and select <strong>Ansible Validated Content</strong>.</p>
</li>
<li>
<p>Upload the content and define the variables (this example uses <code>automationhub_api_token</code>):</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">ansible-playbook collection_seed.yml
-e automationhub_api_token=&lt;api_token&gt;
-e automationhub_main_url=https://automationhub.example.com
-e automationhub_require_content_approval=true</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Use either <code>automationhub_admin_password</code> or <code>automationhub_api_token</code>, not both.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>When complete, the collections are visible in the validated collection section of private automation hub.
Users can now view and download collections from your private automation hub.</p>
</div>
<div class="paragraph _additional-resources">
<div class="title">Additional Resources</div>
<p>For more information on running ansible playbooks, see <a href="https://docs.ansible.com/ansible/latest/cli/ansible-playbook.html">ansible-playbook</a>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="managing-collections-hub">2. Managing collections in automation hub</h2>
<div class="sectionbody">
<div class="paragraph _abstract">
<p>As a content creator, you can use namespaces in automation hub to curate and manage collections for the following purposes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Create groups with permissions to curate namespaces and upload collections to private automation hub</p>
</li>
<li>
<p>Add information and resources to the namespace to help end users of the collection in their automation tasks</p>
</li>
<li>
<p>Upload collections to the namespace</p>
</li>
<li>
<p>Review the namespace import logs to determine the success or failure of uploading the collection and its current approval status</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="assembly-working-with-namespaces">2.1. Using namespaces to manage collections in automation hub</h3>
<div class="paragraph">
<p>Namespaces are unique locations in automation hub to which you can upload and publish content collections. Access to namespaces in automation hub is governed by groups with permission to manage the content and related information that appears there.</p>
</div>
<div class="paragraph">
<p>You can use namespaces in automation hub to organize collections developed within your organization for internal distribution and use.</p>
</div>
<div class="paragraph">
<p>If you are working with namespaces, you must have a group that has permissions to create, edit and upload collections to namespaces. Collections uploaded to a namespace require administrative approval before you can publish them and make them available for use.</p>
</div>
<div class="sect3">
<h4 id="proc-create-content-developers">2.1.1. Creating a new group for content curators</h4>
<div class="paragraph">
<p>You can create a new group in private automation hub designed to support content curation in your organization. This group can contribute internally developed collections for publication in private automation hub.</p>
</div>
<div class="paragraph">
<p>To help content developers create a namespace and upload their internally developed collections to private automation hub, you must first create and edit a group and assign the required permissions.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have administrative permissions in private automation hub and can create groups.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Log in to your private automation hub.</p>
</li>
<li>
<p>From the navigation panel, select <span class="menuseq"><b class="menu">User Access</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">Groups</b></span> and click <b class="button">Create</b>.</p>
</li>
<li>
<p>Enter <strong>Content Engineering</strong> as a <strong>Name</strong> for the group in the modal and click <b class="button">Create</b>. You have created the new group and the <strong>Groups</strong> page opens.</p>
</li>
<li>
<p>On the <strong>Permissions</strong> tab, click <b class="button">Edit</b>.</p>
</li>
<li>
<p>Under <strong>Namespaces</strong>, add permissions for <strong>Add Namespace</strong>, <strong>Upload to Namespace</strong>, and <strong>Change Namespace</strong>.</p>
</li>
<li>
<p>Click <b class="button">Save</b>.</p>
<div class="paragraph">
<p>The new group is created with the permissions that you assigned. You can then add users to the group.</p>
</div>
</li>
<li>
<p>Click the <strong>Users</strong> tab on the <strong>Groups</strong> page.</p>
</li>
<li>
<p>Click <b class="button">Add</b>.</p>
</li>
<li>
<p>Select users and click <b class="button">Add</b>.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="proc-create-namespace">2.1.2. Creating a namespace</h4>
<div class="paragraph">
<p>You can create a namespace to organize collections that your content developers upload to automation hub.
When creating a namespace, you can assign a group in automation hub as owners of that namespace.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have <strong>Add Namespaces</strong> and <strong>Upload to Namespaces</strong> permissions.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Log in to your private automation hub.</p>
</li>
<li>
<p>From the navigation panel, select <span class="menuseq"><b class="menu">Collections</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">Namespaces</b></span>.</p>
</li>
<li>
<p>Click <b class="button">Create</b> and enter a <strong>namespace name</strong>.</p>
</li>
<li>
<p>Assign a group of <strong>Namespace owners</strong>.</p>
</li>
<li>
<p>Click <b class="button">Create</b>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Your content developers can now upload collections to your new namespace and allow users in groups assigned as owners to upload collections.</p>
</div>
</div>
<div class="sect3">
<h4 id="proc-edit-namespace">2.1.3. Adding additional information and resources to a namespace</h4>
<div class="paragraph">
<p>You can add information and provide resources for your users to accompany collections included in the namespace. Add a logo and a description, and link users to your GitHub repository, issue tracker, or other online assets. You can also enter markdown text in the <strong>Edit resources</strong> tab to include more information. This is helpful to users who use your collection in their automation tasks.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have <strong>Change Namespaces</strong> permissions.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Log in to your private automation hub.</p>
</li>
<li>
<p>From the navigation panel, select <span class="menuseq"><b class="menu">Collections</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">Namespaces</b></span>.</p>
</li>
<li>
<p>Click the <b class="button">More Actions</b> icon <strong>&#8942;</strong> and select <strong>Edit namespace</strong>.</p>
</li>
<li>
<p>In the <strong>Edit details</strong> tab, enter information in the fields.</p>
</li>
<li>
<p>Click the <strong>Edit resources</strong> tab to enter markdown in the text field.</p>
</li>
<li>
<p>Click <b class="button">Save</b>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Your content developers can now upload collections to your new namespace, or allow users in groups assigned as owners to upload collections.</p>
</div>
<div class="paragraph">
<p>When you create a namespace, groups with permissions to upload to it can start adding their collections for approval. Collections in the namespace appear in the <strong>Published</strong> repository after approval.</p>
</div>
</div>
<div class="sect3">
<h4 id="proc-uploading-collections">2.1.4. Uploading collections to your namespaces</h4>
<div class="paragraph">
<p>You can upload internally developed collections in <code>tar.gz</code> file format to your private automation hub namespace for review and approval by an automation hub administrator.
When approved, the collection moves to the <strong>Published</strong> content repository where automation hub users can view and download it.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Format your collection file name as follows: &lt;my_namespace-my_collection-1.0.0.tar.gz&gt;</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have a namespace to which you can upload the collection.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Log in to your private automation hub.</p>
</li>
<li>
<p>From the navigation panel, select <span class="menuseq"><b class="menu">Collections</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">Namespaces</b></span> and select a namespace.</p>
</li>
<li>
<p>Click <b class="button">Upload collection</b>.</p>
</li>
<li>
<p>Click <b class="button">Select file</b> from the <strong>New collection</strong> dialog.</p>
</li>
<li>
<p>Select the collection to upload.</p>
</li>
<li>
<p>Click <b class="button">Upload</b>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The <strong>My Imports</strong> screen shows a summary of tests and notifies you if the collection uploaded successfully or if it failed.</p>
</div>
</div>
<div class="sect3">
<h4 id="proc-review-collection-imports">2.1.5. Reviewing your namespace import logs</h4>
<div class="paragraph">
<p>You can review the status of collections uploaded to your namespaces to evaluate success or failure of the process.</p>
</div>
<div class="paragraph">
<p>Imported collections information includes:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Status</dt>
<dd>
<p>completed or failed</p>
</dd>
<dt class="hdlist1">Approval status</dt>
<dd>
<p>waiting for approval or approved</p>
</dd>
<dt class="hdlist1">Version</dt>
<dd>
<p>the version of the uploaded collection</p>
</dd>
<dt class="hdlist1">Import log</dt>
<dd>
<p>activities executed during the collection import</p>
</dd>
</dl>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have access to a namespace to which you can upload collections.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Log in to your private automation hub.</p>
</li>
<li>
<p>From the navigation panel, select <span class="menuseq"><b class="menu">Collections</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">Namespaces</b></span>.</p>
</li>
<li>
<p>Select a namespace.</p>
</li>
<li>
<p>Click the <b class="button">More Actions</b> icon <strong>&#8942;</strong> and select <strong>My imports</strong>.</p>
</li>
<li>
<p>Use the search field or locate an imported collection from the list.</p>
</li>
<li>
<p>Click the imported collection.</p>
</li>
<li>
<p>Review collection import details to determine the status of the collection in your namespace.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="proc-delete-namespace">2.1.6. Deleting a namespace</h4>
<div class="paragraph">
<p>You can delete unwanted namespaces to manage storage on your automation hub server.
You must first ensure that the namespace does not contain a collection with dependencies.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>The namespace you are deleting does not have a collection with dependencies.</p>
</li>
<li>
<p>You have <strong>Delete namespace</strong> permissions.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Log in to your private automation hub.</p>
</li>
<li>
<p>From the navigation panel, select <span class="menuseq"><b class="menu">Collections</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">Namespaces</b></span>.</p>
</li>
<li>
<p>Click the namespace to be deleted.</p>
</li>
<li>
<p>Click the <b class="button">More Actions</b> icon <strong>&#8942;</strong>, then click <b class="button">Delete namespace</b>.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If the <b class="button">Delete namespace</b> button is disabled, the namespace contains a collection with dependencies. Review the collections in this namespace, and delete any dependencies. See <a href="https://access.redhat.com/documentation/en-us/red_hat_ansible_automation_platform/2.4/html/getting_started_with_automation_hub/uploading-content-hub#delete-collection">Deleting a collection on automation hub</a> for information.
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>The namespace that you deleted, as well as its associated collections, is now deleted and removed from the namespace list view.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="assembly-managing-private-collections">2.2. Managing the publication process of internal collections in Automation Hub</h3>
<div class="paragraph">
<p>Use automation hub to manage and publish content collections developed within your organization. You can upload and group collections in namespaces. They need administrative approval to appear in the <strong>Published</strong> content repository. After you publish a collection, your users can access and download it for use.</p>
</div>
<div class="paragraph">
<p>You can reject submitted collections that do not meet organizational certification criteria.</p>
</div>
<div class="sect3">
<h4 id="con-approval">2.2.1. About Approval</h4>
<div class="paragraph">
<p>You can manage uploaded collections in automation hub by using the <strong>Approval</strong> feature located in the navigation panel.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Approval Dashboard</dt>
<dd>
<p>By default, the <strong>Approval</strong> dashboard lists all collections with <strong>Needs Review</strong> status. You can check these for inclusion in your <strong>Published</strong> repository.</p>
</dd>
<dt class="hdlist1">Viewing collection details</dt>
<dd>
<p>You can view more information about the collection by clicking the <strong>Version</strong> number.</p>
</dd>
<dt class="hdlist1">Filtering collections</dt>
<dd>
<p>Filter collections by <strong>Namespace</strong>, <strong>Collection Name</strong> or <strong>Repository</strong>, to locate content and update its status.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="proc-approve-collection">2.2.2. Approving collections for internal publication</h4>
<div class="paragraph">
<p>You can approve collections uploaded to individual namespaces for internal publication and use. All collections awaiting review are located under the <strong>Approval</strong> tab in the <strong>Staging</strong> repository.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have <strong>Modify Ansible repo content</strong> permissions.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>From the Automation Execution menu on the navigation panel, select <strong><span class="menuseq"><b class="menu">Administration</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">Collection Approvals</b></span></strong>.
Collections requiring approval have the status <strong>Needs review</strong>.</p>
</li>
<li>
<p>Select a collection to review.</p>
</li>
<li>
<p>Click the <strong>Version</strong> to view the contents of the collection.</p>
</li>
<li>
<p>Click <b class="button">Certify</b> to approve the collection.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Approved collections are moved to the <strong>Published</strong> repository where users can view and download them for use.</p>
</div>
</div>
<div class="sect3">
<h4 id="proc-reject-collections">2.2.3. Rejecting collections uploaded for review</h4>
<div class="paragraph">
<p>You can reject collections uploaded to individual namespaces. All collections awaiting review are located under the <strong>Approval</strong> tab in the <strong>Staging</strong> repository.</p>
</div>
<div class="paragraph">
<p>Collections requiring approval have the status <strong>Needs review</strong>. Click the <strong>Version</strong> to view the contents of the collection.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have <strong>Modify Ansible repo content</strong> permissions.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>From the navigation panel, select <span class="menuseq"><b class="menu">Collections</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">Approval</b></span>.</p>
</li>
<li>
<p>Locate the collection to review.</p>
</li>
<li>
<p>Click <b class="button">Reject</b> to decline the collection.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Collections you decline for publication are moved to the <strong>Rejected</strong> repository.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="repo-management">2.3. Repository management with automation hub</h3>
<div class="paragraph _abstract">
<p>As an automation hub administrator, you can create, edit, delete, and move automation content collections between repositories.</p>
</div>
<div class="sect3">
<h4 id="_types_of_repositories_in_automation_hub">2.3.1. Types of repositories in automation hub</h4>
<div class="paragraph">
<p>In automation hub you can publish collections to two types of repositories, depending on whether you want your collection to be verified:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Staging repositories</dt>
<dd>
<p>Any user with permission to upload to a namespace can publish collections into these repositories. Collections in these repositories are not available in the search page. Instead, they are displayed on the approval dashboard for an administrator to verify. Staging repositories are marked with the <code>pipeline=staging</code> label.</p>
</dd>
<dt class="hdlist1">Custom repositories</dt>
<dd>
<p>Any user with write permissions on the repository can publish collections to these repositories. Custom repositories can be public where all users can see them, or private  where only users with view permissions can see them. These repositories are not displayed on the approval dashboard. If the repository owner enables search, the collection can appear in search results.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>By default, automation hub ships with one staging repository that is automatically used when a repository is not specified for uploading collections. Users can create new staging repositories during <a href="#proc-create-repository">repository creation</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="con-approval-pipeline">2.3.2. Approval pipeline for custom repositories in automation hub</h4>
<div class="paragraph">
<p>In automation hub you can approve collections into any repository marked with the <code>pipeline=approved</code> label. By default, automation hub ships with one repository for approved content, but you have the option to add more from the repository creation screen. You cannot directly publish into a repository marked with the <code>pipeline=approved</code> label. A collection must first go through a staging repository and be approved before being published into a 'pipleline=approved' repository.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Auto approval</dt>
<dd>
<p>When auto approve is enabled, any collection you upload to a staging repository is automatically promoted to all of the repositories marked as <code>pipeline=approved</code>.</p>
</dd>
<dt class="hdlist1">Approval required</dt>
<dd>
<p>When auto approve is disabled, the administrator can view the approval dashboard and see collections that have been uploaded into any of the staging repositories. Clicking <b class="button">Approve</b> displays a list of approved repositories. From this list, the administrator can select one or more repositories to which the content should be promoted.</p>
<div class="paragraph">
<p>If only one approved repository exists, the collection is automatically promoted into it and the administrator is not prompted to select a repository.</p>
</div>
</dd>
<dt class="hdlist1">Rejection</dt>
<dd>
<p>Rejected collections are automatically placed into the rejected repository, which is pre-installed.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="con-repo-rbac">2.3.3. Role based access control to restrict access to custom repositories</h4>
<div class="paragraph">
<p>Use Role Based Access Control (RBAC) to restrict user access to custom repositories by defining access permissions based on user roles. By default, users can view all public repositories in their automation hub, but they cannot modify a repository unless their role allows them access to do so. The same logic applies to other operations on the repository. For example, you can remove a user&#8217;s ability to download content from a custom repository by changing their role permissions. See <a href="https://access.redhat.com/documentation/en-us/red_hat_ansible_automation_platform/2.4/html/getting_started_with_automation_hub/assembly-user-access">Configuring user access for your private automation hub</a> for information about managing user access in automation hub.</p>
</div>
</div>
<div class="sect3">
<h4 id="proc-create-repository">2.3.4. Creating a custom repository in automation hub</h4>
<div class="paragraph">
<p>When you use Red Hat Ansible Automation Platform to create a repository, you can configure the repository to be private or hide it from search results.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Log in to Red Hat Ansible Automation Platform.</p>
</li>
<li>
<p>From the navigation panel, select <span class="menuseq"><b class="menu">Collections</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">Repositories</b></span>.</p>
</li>
<li>
<p>Click <b class="button">Add repository</b>.</p>
</li>
<li>
<p>Enter a <strong>Repository name</strong>.</p>
</li>
<li>
<p>In the <strong>Description</strong> field, describe the purpose of the repository.</p>
</li>
<li>
<p>To retain previous versions of your repository each time you make a change, select <strong>Retained number of versions</strong>. The number of retained versions can range anywhere between 0 and unlimited. To save all versions, leave this set to null.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>If you have a problem with a change to your custom repository, you can <a href="#proc-revert-repository-version">revert to a different repository version</a> that you have retained.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>In the <strong>Pipeline</strong> field, select a pipeline for the repository. This option defines who can publish a collection into the repository.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Staging</dt>
<dd>
<p>Anyone is allowed to publish automation content into the repository.</p>
</dd>
<dt class="hdlist1">Approved</dt>
<dd>
<p>Collections added to this repository are required to go through the approval process by way of the staging repository. When auto approve is enabled, any collection uploaded to a staging repository is automatically promoted to all of the approved repositories.</p>
</dd>
<dt class="hdlist1">None</dt>
<dd>
<p>Any user with permissions on the repository can publish to the repository directly, and the repository is not part of the approval pipeline.</p>
</dd>
</dl>
</div>
</li>
<li>
<p>Optional: To hide the repository from search results, select <strong>Hide from search</strong>. This option is selected by default.</p>
</li>
<li>
<p>Optional: To make the repository private, select <strong>Make private</strong>. This hides the repository from anyone who does not have permissions to view the repository.</p>
</li>
<li>
<p>To sync the content from a remote repository into this repository, select <strong>Remote</strong> and select the remote that contains the collections you want included in your custom repository. For more information, see <a href="#proc-basic-repo-sync">Repository sync</a>.</p>
</li>
<li>
<p>Click <b class="button">Save</b>.</p>
</li>
</ol>
</div>
<div class="ulist _additional-resources">
<div class="title">Next steps</div>
<ul>
<li>
<p>After the repository is created, the details page is displayed.</p>
<div class="paragraph">
<p>From here, you can provide access to your repository, review or add collections, and work with the saved versions of your custom repository.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="proc-provide-repository-access">2.3.5. Providing access to a custom automation hub repository</h4>
<div class="paragraph">
<p>By default, private repositories and the automation content collections are hidden from all users in the system. Public repositories can be viewed by all users, but cannot be modified. Use this procedure to provide access to your custom repository.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Log in to Red Hat Ansible Automation Platform.</p>
</li>
<li>
<p>From the navigation panel, select <span class="menuseq"><b class="menu">Collections</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">Repositories</b></span>.</p>
</li>
<li>
<p>Locate your repository in the list and click the <b class="button">More Actions</b> icon <strong>&#8942;</strong>, then select <strong>Edit</strong>.</p>
</li>
<li>
<p>Select the <strong>Access</strong> tab.</p>
</li>
<li>
<p>Select a group for <strong>Repository owners</strong>.</p>
<div class="paragraph">
<p>See <a href="https://access.redhat.com/documentation/en-us/red_hat_ansible_automation_platform/2.4/html/getting_started_with_automation_hub/assembly-user-access">Configuring user access for your private automation hub</a> for information about implementing user access.</p>
</div>
</li>
<li>
<p>Select the roles you want assigned to the selected group.</p>
</li>
<li>
<p>Click <b class="button">Save</b>.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="proc-adding-collections-repository">2.3.6. Adding collections to an automation hub repository</h4>
<div class="paragraph">
<p>After you create your repository, you can begin adding automation content collections to it.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Log in to Red Hat Ansible Automation Platform.</p>
</li>
<li>
<p>From the navigation panel, select <span class="menuseq"><b class="menu">Collections</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">Repositories</b></span>.</p>
</li>
<li>
<p>Locate your repository in the list and click the <b class="button">More Actions</b> icon <strong>&#8942;</strong>, then select <strong>Edit</strong>.</p>
</li>
<li>
<p>Select the <strong>Collections version</strong> tab.</p>
</li>
<li>
<p>Click <b class="button">Add Collection</b> and select the collections that you want to add to your repository.</p>
</li>
<li>
<p>Click <b class="button">Select</b>.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="proc-revert-repository-version">2.3.7. Revert to a different automation hub repository version</h4>
<div class="paragraph">
<p>When automation content collections are added or removed from a repository, a new version is created. If a change to your repository causes a problem, you can revert to a previous version. Reverting is a safe operation and does not delete collections from the system, but rather, changes the content associated with the repository. The number of versions saved is defined in the <strong>Retained number of versions</strong> setting when a <a href="#proc-create-repository">repository is created</a>.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Log in to Red Hat Ansible Automation Platform.</p>
</li>
<li>
<p>From the navigation panel, select <span class="menuseq"><b class="menu">Collections</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">Repositories</b></span>.</p>
</li>
<li>
<p>Locate your repository in the list and click the <b class="button">More Actions</b> icon <strong>&#8942;</strong>, then select <strong>Edit</strong>.</p>
</li>
<li>
<p>Locate the version you want to revert to and click the <b class="button">More Actions</b> icon <strong>&#8942;</strong>, and select <strong>Revert to this version</strong>.</p>
</li>
<li>
<p>Click <b class="button">Revert</b>.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="remote-management">2.3.8. Managing remote configurations in automation hub</h4>
<div class="paragraph _abstract">
<p>You can set up remote configurations to any server that is running automation hub. Remote configurations allow you to sync content to your custom repositories from an external collection source.</p>
</div>
<div class="sect4">
<h5 id="proc-create-remote_remote-management">Creating a remote configuration in automation hub</h5>
<div class="paragraph">
<p>You can use Red Hat Ansible Automation Platform to create a remote configuration to an external collection source. Then, you can sync the content from those collections to your custom repositories.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Log in to Red Hat Ansible Automation Platform.</p>
</li>
<li>
<p>From the navigation panel, select <span class="menuseq"><b class="menu">Collections</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">Remotes</b></span>.</p>
</li>
<li>
<p>Click <b class="button">Add Remote</b>.</p>
</li>
<li>
<p>Enter a <strong>Name</strong> for the remote configuration.</p>
</li>
<li>
<p>Enter the <strong>URL</strong> for the remote server, including the path for the specific repository.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>To find the remote server URL and repository path, navigate to <span class="menuseq"><b class="menu">Automation Hub</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">Repositories</b></span>, select your repository, and click <b class="button">Copy CLI configuration</b>.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Configure the credentials to the remote server by entering a <strong>Token</strong> or <strong>Username</strong> and <strong>Password</strong> required to access the external collection.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>To generate a token from the navigation panel, select <span class="menuseq"><b class="menu">Collections</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">API token</b></span>, click <b class="button">Load token</b> and copy the token that is loaded.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>To access collections from console.redhat.com, enter the <strong>SSO URL</strong> to sign in to the identity provider (IdP).</p>
</li>
<li>
<p>Select or create a <strong>YAML requirements</strong> file to identify the collections and version ranges to synchronize with your custom repository. For example, to download only the kubernetes and AWS collection versions 5.0.0 or later the requirements file would look like this:</p>
<div class="listingblock">
<div class="content">
<pre>Collections:
 	  - name: community.kubernetes
	  - name: community.aws
 		version:â€&gt;=5.0.0â€</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>All collection dependencies are downloaded during the Sync process.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Optional: To configure your remote further, use the options available under <strong>Advanced configuration</strong>:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>If there is a corporate proxy in place for your organization, enter a <strong>Proxy URL</strong>, <strong>Proxy Username</strong> and <strong>Proxy Password</strong>.</p>
</li>
<li>
<p>Enable or disable transport layer security using the <strong>TLS validation</strong> checkbox.</p>
</li>
<li>
<p>If digital certificates are required for authentication, enter a <strong>Client key</strong> and <strong>Client certificate</strong>.</p>
</li>
<li>
<p>If you are using a self-signed SSL certificate for your server, enter the PEM encoded client certificate used for authentication in the <strong>CA certificate</strong> field.</p>
</li>
<li>
<p>To accelerate the speed at which collections in this remote can be downloaded, specify the number of collections that can be downloaded in tandem in the <strong>Download concurrency</strong> field.</p>
</li>
<li>
<p>To limit the number of queries per second on this remote, specify a <strong>Rate Limit</strong>.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Some servers can have a specific rate limit set, and if exceeded, synchronization fails.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="proc-provide-remote-access_remote-management">Providing access to a remote configuration</h5>
<div class="paragraph">
<p>After you create a remote configuration, you must provide access to it before anyone can use it.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Log in to Red Hat Ansible Automation Platform.</p>
</li>
<li>
<p>From the navigation panel, select <span class="menuseq"><b class="menu">Collections</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">Remotes</b></span>.</p>
</li>
<li>
<p>Locate your repository in the list, click the <b class="button">More Actions</b> icon <strong>&#8942;</strong>, and select <strong>Edit</strong>.</p>
</li>
<li>
<p>Select the <strong>Access</strong> tab.</p>
</li>
<li>
<p>Select a group for <strong>Repository owners</strong>. See <a href="https://access.redhat.com/documentation/en-us/red_hat_ansible_automation_platform/2.4/html/getting_started_with_automation_hub/assembly-user-access">Configuring user access for your private automation hub</a> for information about implementing user access.</p>
</li>
<li>
<p>Select the appropriate roles for the selected group.</p>
</li>
<li>
<p>Click <b class="button">Save</b>.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect3">
<h4 id="repository-sync">2.3.9. Synchronizing repositories in automation hub</h4>
<div class="paragraph _abstract">
<p>You can distribute relevant automation content collections to your users by synchronizing repositories from one automation hub to another. To ensure you have the latest collection updates, synchronize your custom repository with the remote regularly.</p>
</div>
<div id="proc-basic-repo-sync" class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Log in to Red Hat Ansible Automation Platform.</p>
</li>
<li>
<p>From the navigation panel, select <span class="menuseq"><b class="menu">Collections</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">Repositories</b></span>.</p>
</li>
<li>
<p>Locate your repository in the list and click <strong>Sync</strong>.</p>
<div class="paragraph">
<p>All collections in the configured remote are downloaded to your custom repository. To check the status of the collection sync, select <b class="menuref">Task Management</b> from the navigation panel.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>To limit repository synchronization to specific collections within a remote, you can identify specific collections to be pulled by using a requirements.yml file. See <a href="#proc-create-remote_remote-management">Create a remote</a> for more information.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
<div class="paragraph _additional-resources">
<div class="title">Additional resources</div>
<p>For more information about using requirements files, see <a href="https://docs.ansible.com/ansible/latest/collections_guide/collections_installing.html#install-multiple-collections-with-a-requirements-file">Install multiple collections with a requirements file</a> in the <em>Using Ansible collections</em> guide.</p>
</div>
</div>
<div class="sect3">
<h4 id="export-import-collections">2.3.10. Exporting and importing collections in automation hub</h4>
<div class="paragraph _abstract">
<p>Ansible automation hub stores automation content collections within repositories. These collections are versioned by the automation content creator. Many versions of the same collection can exist in the same or different repositories at the same time.</p>
</div>
<div class="paragraph">
<p>Collections are stored as .tar files that can be imported and exported. This storage format ensures that the collection you are importing to a new repository is the same one that was originally created and exported.</p>
</div>
<div class="sect4">
<h5 id="proc-export-collection">Exporting an automation content collection in automation hub</h5>
<div class="paragraph">
<p>After collections are finalized, you can import them to a location where they can be distributed to others across your organization.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Log in to Red Hat Ansible Automation Platform.</p>
</li>
<li>
<p>From the navigation panel, select <span class="menuseq"><b class="menu">Collections</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">Collections</b></span>. The <strong>Collections</strong> page displays all collections across all repositories. You can search for a specific collection.</p>
</li>
<li>
<p>Select the collection that you want to export. The collection details page opens.</p>
</li>
<li>
<p>From the <strong>Install</strong> tab, select <strong>Download tarball</strong>. The .tar file is downloaded to your default browser downloads folder. You can now import it to the location of your choosing.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="proc-import-collection">Importing an automation content collection in automation hub</h5>
<div class="paragraph">
<p>As an automation content creator, you can import a collection to use in a custom repository. To use a collection in your custom repository, you must first import the collection into your namespace so the automation hub administrator can approve it.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Log in to Red Hat Ansible Automation Platform.</p>
</li>
<li>
<p>From the navigation panel, select <span class="menuseq"><b class="menu">Collections</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">Namespaces</b></span>. The <strong>Namespaces</strong> page displays all of the namespaces available.</p>
</li>
<li>
<p>Click <b class="button">View Collections</b>.</p>
</li>
<li>
<p>Click <b class="button">Upload Collection</b>.</p>
</li>
<li>
<p>Navigate to the collection tarball file, select the file and click <b class="button">Open</b>.</p>
</li>
<li>
<p>Click <b class="button">Upload</b>.</p>
<div class="paragraph">
<p>The <strong>My Imports</strong> screen displays a summary of tests and notifies you if the collection upload is successful or has failed.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>If the collection is not approved, it is not displayed in the published repository.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
<div class="ulist _additional-resources">
<div class="title">Additional resources</div>
<ul>
<li>
<p>See <a href="#con-approval-pipeline">Approval pipeline</a> for more information about collection and repository approvals.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="managing-containers-hub">3. Manage containers in private automation hub</h2>
<div class="sectionbody">
<div class="paragraph _abstract">
<p>Learn the administrator workflows and processes for configuring private automation hub container registry and repositories.</p>
</div>
<div class="sect2">
<h3 id="managing-container-registry">3.1. Manage your private automation hub container registry</h3>
<div class="paragraph _abstract">
<p>Manage container image repositories in your Ansible Automation Platform infrastructure by using the automation hub container registry.
You can perform the following tasks with Automation hub:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Control who can access individual container repositories</p>
</li>
<li>
<p>Change tags on images</p>
</li>
<li>
<p>View activity and image layers</p>
</li>
<li>
<p>Provide additional information related to each container repository</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="container-registries">3.1.1. Container registries</h4>
<div class="paragraph _abstract">
<p>The automation hub container registry is used for storing and managing container images.
When you have built or sourced a container image, you can push that container image to the registry portion of private automation hub to create a container repository.</p>
</div>
<div class="ulist _additional-resources">
<div class="title">Next steps</div>
<ul>
<li>
<p>Push a container image to the automation hub container registry.</p>
</li>
<li>
<p>Create a group with access to the container repository in the registry.</p>
</li>
<li>
<p>Add the new group to the container repository.</p>
</li>
<li>
<p>Add a README to the container repository to provide users with information and relevant links.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configuring-user-access-containers">3.2. Configuring user access for container repositories in private automation hub</h3>
<div class="paragraph _abstract">
<p>To determine who can access and manage images in your Ansible Automation Platform, you must configure user access for container repositories in your private automation hub.</p>
</div>
<div class="sect3">
<h4 id="container-registry-group-permissions">3.2.1. Container registry group permissions</h4>
<div class="paragraph _abstract">
<p>You can control how users can interact with containers managed in private automation hub.
Use the following list of permissions to create groups with the right privileges for your container registries.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. List of group permissions used to manage containers in private automation hub</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Permission name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Create new containers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Users can create new containers</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Change container namespace permissions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Users can change permissions on the container repository</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Change container</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Users can change information on a container</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Change image tags</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Users can modify image tags</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pull private containers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Users can pull images from a private container</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Push to existing container</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Users can push an image to an existing container</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">View private containers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Users can view containers marked as private</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="proc-create-group">3.2.2. Creating a new group in private automation hub</h4>
<div class="paragraph">
<p>You can create and assign permissions to a group in private automation hub that enables users to access specified features in the system.
By default, the <strong>Admin</strong> group in the automation hub has all permissions assigned and is available on initial login. Use the credentials created when installing private automation hub.</p>
</div>
<div class="paragraph">
<p>For more information, see <a href="https://access.redhat.com/documentation/en-us/red_hat_ansible_automation_platform/2.4/html-single/getting_started_with_automation_hub/index#proc-create-group">Creating a new group in private automation hub</a> in the Getting started with automation hub guide.</p>
</div>
</div>
<div class="sect3">
<h4 id="proc-assigning-permissions">3.2.3. Assigning permissions to groups</h4>
<div class="paragraph">
<p>By default, new groups do not have any assigned permissions.
You can assign permissions to groups in private automation hub that enable users to access specific features in the system.</p>
</div>
<div class="paragraph">
<p>You can add permissions when first creating a group or edit an existing group to add or remove permissions</p>
</div>
<div class="paragraph">
<p>For more information, see <a href="https://access.redhat.com/documentation/en-us/red_hat_ansible_automation_platform/2.4/html-single/getting_started_with_automation_hub/index#proc-assigning-permissions">Assigning permissions to groups</a> in the Getting started with automation hub guide.</p>
</div>
<div class="ulist">
<div class="title">Additional resources</div>
<ul>
<li>
<p>See <a href="#container-registry-group-permissions">Container registry group permissions</a> to learn more about specific permissions.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="proc-add-users-to-group">3.2.4. Adding users to existing groups</h4>
<div class="paragraph">
<p>You can add users to groups when you create a group. But, you can also manually add users to existing groups.</p>
</div>
<div class="paragraph">
<p>For more information, see <a href="https://access.redhat.com/documentation/en-us/red_hat_ansible_automation_platform/2.4/html-single/getting_started_with_automation_hub/index#proc-add-users-to-group">Adding users to existing groups</a> in the Getting started with automation hub guide.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="populate-container-registry">3.3. Populating your private automation hub container registry</h3>
<div class="paragraph _abstract">
<p>By default, private automation hub does not include container images.
To populate your container registry, you must push a container image to it.</p>
</div>
<div class="paragraph">
<p>You must follow a specific workflow to populate your private automation hub container registry:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Pull images from the Red Hat Ecosystem Catalog (registry.redhat.io)</p>
</li>
<li>
<p>Tag them</p>
</li>
<li>
<p>Push them to your private automation hub container registry</p>
</li>
</ul>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>Image manifests and filesystem blobs were both originally served directly from <code>registry.redhat.io</code> and <code>registry.access.redhat.com</code>.
As of 1 May 2023, filesystem blobs are served from <code>quay.io</code> instead.
To avoid problems pulling container images, enable outbound connections to the following hostnames:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>cdn.quay.io</code></p>
</li>
<li>
<p><code>cdn01.quay.io</code></p>
</li>
<li>
<p><code>cdn02.quay.io</code></p>
</li>
<li>
<p><code>cdn03.quay.io</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Make this change to any firewall configuration that specifically enables outbound connections to <code>registry.redhat.io</code> or <code>registry.access.redhat.com</code>.</p>
</div>
<div class="paragraph">
<p>Use the hostnames instead of IP addresses when configuring firewall rules.</p>
</div>
<div class="paragraph">
<p>After making this change you can continue to pull images from <code>registry.redhat.io</code> and <code>registry.access.redhat.com</code>. You do not require a <code>quay.io</code> login, or need to interact with the <code>quay.io</code> registry directly in any way to continue pulling Red Hat container images.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="obtain-images">3.3.1. Pulling images for use in automation hub</h4>
<div class="paragraph _abstract">
<p>Before you can push container images to your private automation hub, you must first pull them from an existing registry and tag them for use. The following example details how to pull an image from the Red Hat Ecosystem Catalog (registry.redhat.io).</p>
</div>
<div class="paragraph">
<div class="title">Prerequisites</div>
<p>You have permissions to pull images from registry.redhat.io.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Log in to Podman by using your registry.redhat.io credentials:</p>
<div class="listingblock">
<div class="content">
<pre>$ podman login registry.redhat.io</pre>
</div>
</div>
</li>
<li>
<p>Enter your username and password.</p>
</li>
<li>
<p>Pull a container image:</p>
<div class="listingblock">
<div class="content">
<pre>$ podman pull registry.redhat.io/<em>&lt;container_image_name&gt;</em>:<em>&lt;tag&gt;</em></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Verification</div>
<p>To verify that the image you recently pulled is contained in the list, take these steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>List the images in local storage:</p>
<div class="listingblock">
<div class="content">
<pre>$ podman images</pre>
</div>
</div>
</li>
<li>
<p>Check the image name, and verify that the tag is correct.</p>
</li>
</ol>
</div>
<div class="ulist _additional-resources">
<div class="title">Additional resources</div>
<ul>
<li>
<p>See <a href="https://redhat-connect.gitbook.io/catalog-help/">Red Hat Ecosystem Catalog Help</a> for information on registering and getting images.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="tag-pulled-images">3.3.2. Tagging images for use in automation hub</h4>
<div class="paragraph _abstract">
<p>After you pull images from a registry, tag them for use in your private automation hub container registry.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have pulled a container image from an external registry.</p>
</li>
<li>
<p>You have the FQDN or IP address of the automation hub instance.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>Tag a local image with the automation hub container repository:</p>
<div class="listingblock">
<div class="content">
<pre>$ podman tag registry.redhat.io/<em>&lt;container_image_name&gt;</em>:<em>&lt;tag&gt;</em> <em>&lt;automation_hub_hostname&gt;</em>/<em>&lt;container_image_name&gt;</em></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Verification</div>
<ol class="arabic">
<li>
<p>List the images in local storage:</p>
<div class="listingblock">
<div class="content">
<pre>$ podman images</pre>
</div>
</div>
</li>
<li>
<p>Verify that the image you recently tagged with your automation hub information is contained in the list.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="push-containers">3.3.3. Pushing a container image to private automation hub</h4>
<div class="paragraph _abstract">
<p>You can push tagged container images to private automation hub to create new containers and populate the container registry.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have permissions to create new containers.</p>
</li>
<li>
<p>You have the FQDN or IP address of the automation hub instance.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Log in to Podman using your automation hub location and credentials:</p>
<div class="listingblock">
<div class="content">
<pre>$ podman login -u=<em>&lt;username&gt;</em> -p=<em>&lt;password&gt;</em> <em>&lt;automation_hub_url&gt;</em></pre>
</div>
</div>
</li>
<li>
<p>Push your container image to your automation hub container registry:</p>
<div class="listingblock">
<div class="content">
<pre>$ podman push <em>&lt;automation_hub_url&gt;</em>/<em>&lt;container_image_name&gt;</em></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Troubleshooting</div>
<p>The <code>push</code> operation re-compresses image layers during the upload, which is not guaranteed to be reproducible and is client-implementation dependent.
This may lead to image-layer digest changes and a failed push operation, resulting in <code>Error: Copying this image requires changing layer representation, which is not possible (image is signed or the destination specifies a digest)</code>.</p>
</div>
<div class="olist arabic">
<div class="title">Verification</div>
<ol class="arabic">
<li>
<p>Log in to your automation hub.</p>
</li>
<li>
<p>Navigate to <b class="menuref">Container Registry</b>.</p>
</li>
<li>
<p>Locate the container in the container repository list.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="setting-up-container-repository">3.4. Setting up your container repository</h3>
<div class="paragraph _abstract">
<p>When you set up your container repository, you must add a description, include a README, add groups that can access the repository, and tag images.</p>
</div>
<div class="sect3">
<h4 id="_prerequisites_to_setting_up_your_container_registry">3.4.1. Prerequisites to setting up your container registry</h4>
<div class="ulist">
<ul>
<li>
<p>You are logged in to a private automation hub.</p>
</li>
<li>
<p>You have permissions to change the repository.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="proc-doing-one-procedure_assembly-keyword">3.4.2. Adding a README to your container repository</h4>
<div class="paragraph _abstract">
<p>Add a README to your container repository to provide instructions to your users on how to work with the container.
Automation hub container repositories support Markdown for creating a README.
By default, the README is empty.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have permissions to change containers.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>From the navigation panel, select <span class="menuseq"><b class="menu">Execution Environments</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">Execution Environments</b></span>.</p>
</li>
<li>
<p>Select your container repository.</p>
</li>
<li>
<p>On the <strong>Detail</strong> tab, click <b class="button">Add</b>.</p>
</li>
<li>
<p>In the <strong>Raw Markdown</strong> text field, enter your README text in Markdown.</p>
</li>
<li>
<p>Click <b class="button">Save</b> when you are finished.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>After you add a README, you can edit it at any time by clicking <b class="button">Edit</b> and repeating steps 4 and 5.</p>
</div>
</div>
<div class="sect3">
<h4 id="providing-access-to-containers">3.4.3. Providing access to your container repository</h4>
<div class="paragraph _abstract">
<p>Provide access to your container repository for users who need to work with the images.
Adding a group allows you to modify the permissions the group can have to the container repository.
You can use this option to extend or restrict permissions based on what the group is assigned.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have <strong>change container namespace</strong> permissions.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>From the navigation panel, select <span class="menuseq"><b class="menu">Execution Environments</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">Execution Environments</b></span>.</p>
</li>
<li>
<p>Select your container repository.</p>
</li>
<li>
<p>From the <strong>Access</strong> tab, click <b class="button">Select a group</b>.</p>
</li>
<li>
<p>Select the group or groups to which you want to grant access and click <b class="button">Next</b>.</p>
</li>
<li>
<p>Select the roles that you want to add to this execution environment and click <b class="button">Next</b>.</p>
</li>
<li>
<p>Click <b class="button">Add</b>.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="proc-tag-image">3.4.4. Tagging container images</h4>
<div class="paragraph _abstract">
<p>Tag images to add an additional name to images stored in your automation hub container repository. If no tag is added to an image, automation hub defaults to <code>latest</code> for the name.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have <strong>change image tags</strong> permissions.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>From the navigation panel, select <span class="menuseq"><b class="menu">Execution Environments</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">Execution Environments</b></span>.</p>
</li>
<li>
<p>Select your container repository.</p>
</li>
<li>
<p>Click the <strong>Images</strong> tab.</p>
</li>
<li>
<p>Click the <b class="button">More Actions</b> icon <strong>&#8942;</strong>, and click <b class="button">Manage tags</b>.</p>
</li>
<li>
<p>Add a new tag in the text field and click <b class="button">Add</b>.</p>
</li>
<li>
<p>Optional: Remove <strong>current tags</strong> by clicking <b class="button">x</b> on any of the tags for that image.</p>
</li>
<li>
<p>Click <b class="button">Save</b>.</p>
</li>
</ol>
</div>
<div class="ulist">
<div class="title">Verification</div>
<ul>
<li>
<p>Click the <strong>Activity</strong> tab and review the latest changes.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="proc-create-credential">3.4.5. Creating a credential in automation controller</h4>
<div class="paragraph">
<p>To pull container images from a password or token-protected registry, you must create a credential in automation controller.</p>
</div>
<div class="paragraph">
<p>In earlier versions of Ansible Automation Platform, you were required to deploy a registry to store execution environment images.
On Ansible Automation Platform 2.0 and later, the system operates as if you already have a container registry up and running.
To store execution environment images, add the credentials of only your selected container registries.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Navigate to automation controller.</p>
</li>
<li>
<p>From the navigation panel, select <span class="menuseq"><b class="menu">Resources</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">Credentials</b></span>.</p>
</li>
<li>
<p>Click <b class="button">Add</b> to create a new credential.</p>
</li>
<li>
<p>Enter an authorization <strong>Name</strong>, <strong>Description</strong>, and <strong>Organization</strong>.</p>
</li>
<li>
<p>Select the <strong>Credential Type</strong>.</p>
</li>
<li>
<p>Enter the <strong>Authentication URL</strong>. This is the container registry address.</p>
</li>
<li>
<p>Enter the <strong>Username</strong> and <strong>Password or Token</strong> required to log in to the container registry.</p>
</li>
<li>
<p>Optional: To enable SSL verification, select <strong>Verify SSL</strong>.</p>
</li>
<li>
<p>Click <b class="button">Save</b>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Filling in at least one of the fields organization, user, or team is mandatory, and can be done through the user interface</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="pulling-images-container-repository">3.5. Pulling images from a container repository</h3>
<div class="paragraph _abstract">
<p>Pull images from the automation hub container registry to make a copy to your local machine.
Automation hub provides the <code>podman pull</code> command for each <code>latest</code> image in the container repository.
You can copy and paste this command into your terminal, or use <code>podman pull</code> to copy an image based on an image tag.</p>
</div>
<div class="sect3">
<h4 id="pulling-image">3.5.1. Pulling an image</h4>
<div class="paragraph _abstract">
<p>You can pull images from the automation hub container registry to make a copy to your local machine.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You must have permission to view and pull from a private container repository.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>If are pulling container images from a password or token-protected registry, <a href="#proc-create-credential">create a credential in automation controller</a> before pulling the image.</p>
</li>
<li>
<p>From the navigation panel, select <span class="menuseq"><b class="menu">Execution Environments</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">Execution Environments</b></span>.</p>
</li>
<li>
<p>Select your container repository.</p>
</li>
<li>
<p>In the <strong>Pull this image</strong> entry, click <b class="button">Copy to clipboard</b>.</p>
</li>
<li>
<p>Paste and run the command in your terminal.</p>
</li>
</ol>
</div>
<div class="ulist">
<div class="title">Verification</div>
<ul>
<li>
<p>Run <code>podman images</code> to view images on your local machine.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="proc-sync-image-adoc_pulling-images-container-repository">3.5.2. Syncing images from a container repository</h4>
<div class="paragraph">
<p>You can pull images from the automation hub container registry to sync an image to your local machine.
To sync an image from a remote container registry, you must first configure a remote registry.</p>
</div>
<div class="paragraph">
<div class="title">Prerequisites</div>
<p>You must have permission to view and pull from a private container repository.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>From the navigation panel, select <span class="menuseq"><b class="menu">Execution Environments</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">Remote Registries</b></span>.</p>
</li>
<li>
<p>Add <a href="https://registry.redhat.io" class="bare">https://registry.redhat.io</a> to the registry.</p>
</li>
<li>
<p>Add any required credentials to authenticate.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Some container registries are aggressive with rate limiting.
Set a rate limit under <strong>Advanced Options</strong>.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>From the navigation panel, select <span class="menuseq"><b class="menu">Execution Environments</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">Execution Environments</b></span>.</p>
</li>
<li>
<p>Click <b class="button">Add execution environment</b> in the page header.</p>
</li>
<li>
<p>Select the registry you want to pull from.
The <strong>Name</strong> field displays the name of the image displayed on your local registry.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The <strong>Upstream name</strong> field is the name of the image on the remote server.
For example, if the upstream name is set to "alpine" and the <strong>Name</strong> field is "local/alpine", the alpine image is downloaded from the remote and renamed to "local/alpine".</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Set a list of tags to include or exclude.
Syncing images with a large number of tags is time consuming and uses a lot of disk space.</p>
</li>
</ol>
</div>
<div class="ulist _additional-resources">
<div class="title">Additional resources</div>
<ul>
<li>
<p>See <a href="https://access.redhat.com/RegistryAuthentication">Red Hat Container Registry Authentication</a> for a list of registries.</p>
</li>
<li>
<p>See the <a href="http://docs.podman.io/en/latest/index.html">What is Podman?</a> documentation for options to use when pulling images.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="working-with-signed-containers">3.6. Working with signed containers</h3>
<div class="paragraph">
<p>Automation execution environments are container images used by Ansible automation controller to run jobs.
You can download this content to private automation hub, and publish it within your organization.</p>
</div>
<div class="sect3">
<h4 id="deploying-your-system-for-container-signing">3.6.1. Deploying your system for container signing</h4>
<div class="paragraph">
<p>Automation hub implements image signing to provided better security for the execution environment container images.</p>
</div>
<div class="paragraph">
<p>To deploy your system so that it is ready for container signing, you must confirm if an execution environment or container is already signed or use the proper tools to sign and verify the signature yourself.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Deploy your system with support for container signing activated.</p>
<div class="literalblock">
<div class="content">
<pre>_automation_hub:
    automationhub_create_default_container_signing_service: true
    automationhub_container_signing_service_key: _path/to/gpg.key_
    automationhub_container_signing_service_script: _path/to/executable_</pre>
</div>
</div>
</li>
<li>
<p>Navigate to automation hub.</p>
</li>
<li>
<p>From the navigation panel, select <b class="menuref">Signature Keys</b>.</p>
</li>
<li>
<p>Ensure that you have a key titled <strong>container-default</strong>, or <strong>container</strong>-<em>anyname</em>.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The <code>container-default</code> service is created by the Ansible Automation Platform installer.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="adding-containers-remotely-to-the-automation-hub">3.6.2. Adding containers remotely to automation hub</h4>
<div class="paragraph">
<p>You can add containers remotely to automation hub in one of the following two ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Create Remotes</p>
</li>
<li>
<p>Execution Environment</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Navigate to automation hub.</p>
</li>
<li>
<p>From the navigation panel, select <span class="menuseq"><b class="menu">Execution Environments</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">Remote Registries</b></span>.</p>
</li>
<li>
<p>Click <b class="button">Add remote registry</b>.</p>
<div class="ulist">
<ul>
<li>
<p>In the <strong>Name</strong> field, enter the name of the registry where the container resides.</p>
</li>
<li>
<p>In the <strong>URL</strong> field, enter the URL of the registry where the container resides.</p>
</li>
<li>
<p>In the <strong>Username</strong> field, enter the username if necessary.</p>
</li>
<li>
<p>In the <strong>Password</strong> field, enter the password if necessary.</p>
</li>
<li>
<p>Click <b class="button">Save</b>.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="adding-an-execution-environment">3.6.3. Adding an execution environment</h4>
<div class="paragraph">
<p>Automation execution environments are container images that make it possible to incorporate system-level dependencies and collection-based content.
Each execution environment allows you to have a customized image to run jobs, and each of them contain only what you need when running the job.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>From the navigation panel, select <span class="menuseq"><b class="menu">Execution Environments</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">Execution Environments</b></span>.</p>
</li>
<li>
<p>Click <b class="button">Add execution environment</b>.</p>
</li>
<li>
<p>Enter the name of the execution environment.</p>
</li>
<li>
<p>Optional: Enter the upstream name.</p>
</li>
<li>
<p>Under <strong>Registry</strong>, select the name of the registry from the drop-down menu.</p>
</li>
<li>
<p>Enter tags in the <strong>Add tag(s) to include</strong> field.
If the field is blank, all the tags are passed.
You must specify which repository specific tags to pass.</p>
</li>
<li>
<p>The remaining fields are optional:</p>
<div class="ulist">
<ul>
<li>
<p><strong>Currently included tags</strong></p>
</li>
<li>
<p><strong>Add tag(s) to exclude</strong></p>
</li>
<li>
<p><strong>Currently excluded tag(s)</strong></p>
</li>
<li>
<p><strong>Description</strong></p>
</li>
</ul>
</div>
</li>
<li>
<p>Click <b class="button">Save</b>.</p>
</li>
<li>
<p>Synchronize the image.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="pushing-container-images-from-your-local">3.6.4. Pushing container images from your local environment</h4>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>From a terminal, log into podman, or any container client currently in use:</p>
<div class="listingblock">
<div class="content">
<pre>&gt; podman pull &lt;__container-name__&gt;</pre>
</div>
</div>
</li>
<li>
<p>After the image is pulled, add tags:</p>
<div class="listingblock">
<div class="content">
<pre>&gt; podman tag &lt;container-name&gt; _&lt;server-address&gt;_/&lt;container-name&gt;:&lt;tag name&gt;</pre>
</div>
</div>
</li>
<li>
<p>Sign the image after changes have been made, and push it back up:</p>
<div class="listingblock">
<div class="content">
<pre>&gt; podman push _&lt;server-address&gt;_/&lt;container-name&gt;:&lt;tag name&gt;
--tls-verify=false --sign-by&lt;reference to the gpg key on your local&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>If the image is not signed, it can only be pushed with any current signature embedded.</p>
</div>
</li>
<li>
<p>Push the image without signing it:</p>
<div class="listingblock">
<div class="content">
<pre>&gt; podman push _&lt;server-address&gt;_/&lt;container-name&gt;:&lt;tag name&gt;
--tls-verify=false</pre>
</div>
</div>
</li>
<li>
<p>Navigate to automation hub.</p>
</li>
<li>
<p>From the navigation panel, select <span class="menuseq"><b class="menu">Execution Environments</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">Execution Environments</b></span>.</p>
</li>
<li>
<p>To display the new execution environment, click the <strong>Refresh</strong> icon.</p>
</li>
<li>
<p>Click the name of the image.</p>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Troubleshooting</div>
<p>The details page displays whether or not the image has been signed.
If it displays <strong>Unsigned</strong> you can sign the image from automation hub with the following steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Click the image name to open the details page.</p>
</li>
<li>
<p>Click the <b class="button">More Actions</b> icon <strong>&#8942;</strong>.
Three options are available:</p>
<div class="ulist">
<ul>
<li>
<p><strong>Use in Controller</strong></p>
</li>
<li>
<p><strong>Delete</strong></p>
</li>
<li>
<p><strong>Sign</strong></p>
</li>
</ul>
</div>
</li>
<li>
<p>Click <strong>Sign</strong> from the drop-down menu.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The signing service signs the image.
After the image is signed, the status changes to "signed".</p>
</div>
</div>
<div class="sect3">
<h4 id="using-policies-with-signed-images_working-with-signed-containers">3.6.5. Policies with signed images</h4>
<div class="paragraph">
<p>Policies can be used by podman or other image clients to ensure the validity of the image by assigning specific policies to that signature.</p>
</div>
</div>
<div class="sect3">
<h4 id="using-podman-ensure-image-signed">3.6.6. Using podman to ensure an image is signed by a specific signature</h4>
<div class="paragraph">
<p>When ensuring a signature is signed by specific signatures, the signature must be on your local environment.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>From the navigation panel, select <b class="menuref">Signature Keys</b>.</p>
</li>
<li>
<p>Click the <b class="button">More Actions</b> icon <strong>&#8942;</strong> next to the signature that you are using.</p>
</li>
<li>
<p>Select <strong>Download key</strong> from the drop-down menu.
A new window opens.</p>
</li>
<li>
<p>In the <strong>Name</strong> field, enter the name of the key.</p>
</li>
<li>
<p>Click <b class="button">Save</b>.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="configuring-the-client-to-verify-signatures">3.6.7. Configuring the client to verify signatures</h4>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>The client must have sudo privileges configured to verify signatures.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In a terminal type:</p>
<div class="listingblock">
<div class="content">
<pre>&gt;  sudo &lt;name of editor&gt; __/etc/containers/policy.json</pre>
</div>
</div>
<div class="paragraph">
<p>The file that is displayed is similar to this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>    {
        "default": [{"type": "reject"}],
        "transports": {
            "docker": {
              "quay.io": [{"type": "insecureAcceptAnything}],
              "docker.io": [{"type": "insecureAcceptAnything}],
              "_&lt;server-address&gt;_": [
                {
                    "type": "signedBy",
                    "keyType": "GPGKeys",
                    "keyPath": "/tmp/containersig.txt"
    }</pre>
</div>
</div>
<div class="paragraph">
<p>This file shows that neither <code>quay.io</code>, or <code>docker.io</code> will perform the verification, because the type is <code>insecureAcceptAnything</code> which overrides the default type of <code>reject</code>. However, <code><em>&lt;server-address&gt;</em></code> will perform the verification, because the parameter <code>type</code> is set to <code>"signedBy"</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The only <code>keyType`</code> currently supported is GPG keys.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Under the <code><em>&lt;server-address&gt;</em></code> entry, modify the <code>keyPath</code> &lt;1&gt; to include the
name of your key file.</p>
<div class="listingblock">
<div class="content">
<pre>    {
        "default": [{"type": "reject"}],
        "transports": {
            "docker": {
              "quay.io": [{"type": "insecureAcceptAnything}],
              "docker.io": [{"type": "insecureAcceptAnything}],
              "_&lt;server-address&gt;_1": [
                {
                    "type": "signedBy",
                    "keyType": "GPGKeys",
                    "keyPath": "/tmp/&lt;key file name", <b class="conum">(1)</b>
                    "signedIdentity": {
                      "type": "remapIdentity",
                      "prefix": "_&lt;server-address&gt;_",
                      "signedPrefix": "0.0.0.0:8002"
    }</pre>
</div>
</div>
</li>
<li>
<p>Save and close the file.</p>
</li>
</ol>
</div>
<div class="ulist">
<div class="title">Verification</div>
<ul>
<li>
<p>Pull the file using Podman, or your client of choice:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>&gt; podman pull _&lt;server-address&gt;_/&lt;container-name&gt;:&lt;tag name&gt;
--tls-verify=false</pre>
</div>
</div>
<div class="paragraph">
<p>This response verifies the signature with no errors.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="delete-container">3.7. Deleting a container repository</h3>
<div class="paragraph _abstract">
<p>Delete a container repository from your private automation hub to manage your disk space.
You can delete repositories from the Red Hat Ansible Automation Platform interface in the <strong>Container Repository</strong> list view.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have permissions to manage repositories.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Navigate to automation hub.</p>
</li>
<li>
<p>From the navigation panel, select <span class="menuseq"><b class="menu">Execution Environments</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">Execution Environments</b></span>.</p>
</li>
<li>
<p>On the container repository that you want to delete, click the <b class="button">More Actions</b> icon <strong>&#8942;</strong>, and click <b class="button">Delete</b>.</p>
</li>
<li>
<p>When the confirmation message is displayed, click the checkbox and click <b class="button">Delete</b>.</p>
</li>
</ol>
</div>
<div class="ulist">
<div class="title">Verification</div>
<ul>
<li>
<p>Return to the <strong>Execution Environments</strong> list view.
If the container repository has been successfully deleted, the container repository is no longer on the list.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2024-01-26 12:45:09 -0700
</div>
</div>
</body>
</html>