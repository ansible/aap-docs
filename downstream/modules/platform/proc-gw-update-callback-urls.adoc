:_mod-docs-content-type: PROCEDURE

[id="gw-update-callback-urls"]

= Updating callback URLs for OAuth and SSO providers

[role="_abstract"]

To ensure proper authentication flow after architectural changes in {PlatformNameShort} {PlatformVers}, update the `callback_url` in your identity providers (IdPs), such as GitHub, Microsoft Entra ID, Keycloak, Generic OIDC, and Google OAuth. 
This update redirects the `callback_url` from {ControllerName} to {Gateway}. 
Previously, the `callback_url` was a fixed value; however, it is now dynamically generated and specific to each authenticator instance, as described in the following procedure. 
This change requires a manual update in your IdP configuration, even after platform upgrades.

[IMPORTANT]
====
After upgrading, your authentication method is disabled. 
As a platform administrator ensure that you enable the authenticator.
====

The `callback_url` is normally auto-generated by {PlatformNameShort} once the authentication method is configured. 
You must copy this generated URL from within {PlatformNameShort} and then paste it into your IdP's settings.

.Prerequisites 

* You have administrative access to the configuration settings of your external IdP.

.Procedure

. Go to your authenticator's configuration details within the {PlatformNameShort} UI to locate the `callback_url`.
+
For more information, see link:{URLCentralAuth}/gw-configure-authentication#gw-display-auth-details[Displaying authenticator details].
. Identify and copy the auto-generated *Callback URL*, *Redirect URL*, or *Reply URL* that {PlatformNameShort} provides for your specific authentication method.
. Update your IdP's configuration by pasting the copied redirect URL from {PlatformNameShort} into your IdP's configuration where necessary.

.Verification

Verify that the `callback_url` has been updated correctly and authentication is working:

* Log in to Ansible {PlatformNameShort} as an administrator account and enable the authentication method, if you have not already.
* Log in to {PlatformNameShort} using the newly configured or updated OAuth or SSO provider. 
A successful login indicates correct configuration.
