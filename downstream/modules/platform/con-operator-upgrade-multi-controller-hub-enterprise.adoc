:_mod-docs-content-type: CONCEPT

[id="operator-upgrade-multi-controller-hub-enterprise"]
= Upgrading a 2.4 multi node {ControllerName} and {HubName} deployment to a {PlatformVers} {EnterpriseTopology}

[role="_abstract"]
You can upgrade your 2.4 multi node {ControllerName} and {HubName} deployment to a {PlatformVers} {EnterpriseTopology}. This section outlines the infrastructure changes and requirements for upgrading.

== 2.4 infrastructure topology diagram

This diagram outlines the 2.4 infrastructure topology for this deployment model.

.2.4 infrastructure topology diagram
image::ocp-b-controller-hub-2.4.png[2.4 multi controller and hub topology]

== {PlatformVers} infrastructure topology diagram

This diagram outlines the {PlatformVers} infrastructure topology that Red Hat has tested with this deployment model.

.{PlatformVers} infrastructure topology diagram
image::ocp-b-controller-hub-2.6.png[2.6 enterprise topology]

== Requirements for upgrading a multi node {ControllerName} and {HubName} deployment

The following table highlights the requirements for upgrading from {PlatformNameShort} 2.4 to {PlatformVers}.

[cols="1,1,1",options="header"]
|====
|Existing 2.4 topology |Tested {PlatformVers} topology |Requirements for each pod

a|Redundant deployment with {ControllerName} and {HubName}:

* One {ControllerName} web pod
* One {ControllerName} task pod
* Two {AutomationMesh} ingress pods
* One {HubName} web pod
* One {HubName} API pod
* Two {HubName} content pods
* Two {HubName} worker pods
* Externally managed database service

a|Enterprise topology:

* One {ControllerName} web pod
* One {ControllerName} task pod
* One {HubName} web pod
* One {HubName} API pod
* Two {HubName} content pods
* Two {HubName} worker pods
* One {HubName} Redis pod
* One {EDAcontroller} API pod
* Two {EDAcontroller} activation worker pods
* Two {EDAcontroller} default worker pods
* Two {EDAcontroller} event stream pods
* One {EDAcontroller} scheduler pod
* One {Gateway} pod
* Two {AutomationMesh} ingress pods
* Externally managed database service
* Externally managed Redis
* Externally managed object storage service (for {HubName})

|See the link:{URLTopologies}/ocp-topologies#ocp-b-env-a[Operator {EnterpriseTopology}] section of the _{TitleTopologies}_ guide.
|====
