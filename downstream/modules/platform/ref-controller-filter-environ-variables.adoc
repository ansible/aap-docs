:_mod-docs-content-type: REFERENCE

[id="ref-controller-filter-environ-variables"]

= Filter on environment variables

[role="_abstract"]
You can filter hosts in an inventory based on their environment variables by using the `ansible_env` variable in a constructed inventory plugin.

The following example in YAML format involves filtering on environmental variables.

[literal, options="nowrap" subs="+attributes"]
----

source_vars:

plugin: constructed
strict: true
groups:
  hosts_using_xterm: ansible_env.TERM == "xterm"

limit: hosts_using_xterm
----
