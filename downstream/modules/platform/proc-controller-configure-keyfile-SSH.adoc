:_mod-docs-content-type: PROCEDURE

[id="controller-configure-keyfile-SSH"]

= Configure a fixed user or keyfile in your SSH configuration file

[role="_abstract"]
You can configure a fixed user or keyfile in your SSH configuration file in the ProxyCommand definition that sets up the connection through the jump host. 

.Prerequisites
* Check whether all jump hosts are reachable from any node that establishes an SSH connection to the managed nodes, such as a Hybrid Controller or an Execution Node.

.Procedure
. Create an SSH configuration file `/var/lib/awx .ssh/config` on each node with the following details
+
[literal, options="nowrap" subs="+attributes"]
----
Host jumphost.example.com
    Hostname jumphost.example.com
    User <jumphostuser>
    Port <jumphostport>
    IdentityFile ~.ssh/id_rsa
    StrictHostKeyChecking no
    ProxyCommand ssh -W %h:%p jumphost.example.com
----
+
** The code specifies the configuration required to connect to the jump host 'jumphost.example.com'
** {ControllerNameStart} establishes an SSH connection from each node to the managed nodes.
** Example values `jumphost.example.com`, `jumphostuser`, `jumphostport` and `~/.ssh/id_rsa` must be changed according to your environment
** Add a Host matching block to the already created SSH configuration file `/var/lib/awx/.ssh/config`` on the node, for example:
+ 
[literal, options="nowrap" subs="+attributes"]
----
Host 192.0.* 
   ...
----
+
* The `Host 192.0.*` line indicates that all hosts in that subnet use the settings defined in that block. 
Specifically all hosts in that subnet are accessed using the `ProxyCommand` setting and connect through `jumphost.example.com`
* If `Host *` is used to indicate that all hosts connect through the specified proxy, ensure that `jumphost.example.com` is excluded from that matching, for example:
+
[literal, options="nowrap" subs="+attributes"]
----
Host * !jumphost.example.com 
    ...    
----
+
Using the {PlatformName} UI
+
. On the navigation panel, select {MenuSetJob}
. Click btn:[Edit] and add `/var/lib/awx .ssh:/home/runner/.ssh:0` to the *Paths to expose isolated jobs* field.
. Click btn:[Save] to save your changes.
