:_mod-docs-content-type: PROCEDURE

[id="change-ssl-installer"]

= Changing SSL/TLS certificates and keys using the installation program

[role="_abstract"]
To renew or change SSL/TLS certificates for RPM-based installations, you can edit the inventory file and run the installation program.
The installation program verifies that all {PlatformNameShort} components are working. 

Alternatively, you can change the SSL/TLS certificates manually. 
This is quicker, but there is no automatic verification.

Red Hat recommends that you use the installation program to make changes to your {PlatformNameShort} deployment. 

The following procedure describes how to change the SSL/TLS certificate and key in the inventory file.

.Prerequisites

* The certificates must be in PEM format.
* If there is an intermediate certificate authority, you must append it to the server certificate.
* Use the correct order for the certificates: The server certificate comes first, followed by the intermediate certificate authority.

For further information, see the link:http://nginx.org/en/docs/http/ngx_http_ssl_module.html#ssl_certificate[ssl certificate section of the NGINX documentation].

.Procedure

. Copy the new SSL/TLS certificates and keys to a path relative to the {PlatformNameShort} installer.
. Add the absolute paths of the SSL/TLS certificates and keys to the inventory file. 
Refer to link:{URLInstallationGuide}/appendix-inventory-files-vars[Inventory file variables] for guidance on setting these variables.

** {EDAcontroller}: `automationedacontroller_ssl_cert`, `automationedacontroller_ssl_key`, `custom_ca_cert`
** {GatewayStart}: `automationgateway_ssl_cert`, `automationgateway_ssl_key`, `custom_ca_cert`
** {HubNameStart}: `automationhub_ssl_cert`, `automationhub_ssl_key`, `custom_ca_cert`
** {ControllerNameStart}: `web_server_ssl_cert`, `web_server_ssl_key`, `custom_ca_cert`
+
[NOTE]
====
The `custom_ca_cert` must be the root certificate authority that signed the intermediate certificate authority.
This file is installed in `/etc/pki/ca-trust/source/anchors`.
====

. Run the installation program.
