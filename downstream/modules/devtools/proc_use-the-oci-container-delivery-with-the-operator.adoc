:_newdoc-version: 2.18.5
:_template-generated: 2026-02-16
:_mod-docs-content-type: PROCEDURE

[id="use-the-oci-container-delivery-with-the-operator_{context}"]
= Use the OCI container delivery with the Operator

[role="_abstract"]
Red Hat Developer Hub pulls the Ansible plug-ins directly from `registry.redhat.io` as OCI artifacts. This method requires a registry authentication secret in the same OpenShift project as your Red Hat Developer Hub deployment.


.Prerequisites
* You have a Red Hat account with access to `registry.redhat.io`.
* You have a registry service account token from the Red Hat Customer Portal. For more information, see link:https://access.redhat.com/terms-based-registry/[Registry Service Accounts].
* You have access to the OpenShift project where you had installed Red Hat Developer Hub.
* You have installed the OpenShift CLI (`oc`) and logged in to your cluster.


.Procedure

. Create an auth.json file on your local machine with your registry.redhat.io credentials:
+
[literal,subs="+quotes"]
----
{
  "auths": {
    "registry.redhat.io": {
      "auth": "<base64-encoded-username:password>"
    }
  }
}
----
+
To generate the base64-encoded value, use the `printf '%s' '<username>:<password>' | base64` command.


. Create the authentication secret in the OpenShift project where you had installed Red Hat Developer Hub.
+
The secret name must follow the pattern `<deployment-name>-dynamic-plugins-registry-auth`, where `<deployment-name>` matches the `metadata.name` of your Backstage custom resource.
+
** For a default Operator installation with name `developer-hub`:
+
[literal,subs="+quotes"]
----
oc create secret generic developer-hub-dynamic-plugins-registry-auth \
  --from-file=auth.json=./auth.json
----
+
** If you already have Podman credentials configured locally:
+
[literal,subs="+quotes"]
----
oc create secret generic <deployment-name>-dynamic-plugins-registry-auth \
  --from-file=auth.json=${XDG_RUNTIME_DIR}/containers/auth.json
----
+
[IMPORTANT]
====
Create this secret in the same OpenShift project as your Red Hat Developer Hub deployment, and create it before you configure the plug-ins.
====


.Verification

* Verify that the secret exists in the project:
+
[literal,subs="+quotes"]
----
oc get secret <deployment-name>-dynamic-plugins-registry-auth
----
