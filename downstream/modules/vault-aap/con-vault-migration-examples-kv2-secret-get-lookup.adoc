:_mod-docs-content-type: CONCEPT

[id="vault-migration-examples-kv2-secret-get-lookup"]

= Migration examples for the `hashicorp.vault.kv2_secret_get` lookup

[role="_abstract"]

The following example shows the KV2 secret get lookup for retrieving the latest version.

.Example 
[example]

Before (`community.hashi_vault`)

----
- name: Return latest KV v2 secret from path
  ansible.builtin.debug:
    msg: "{{ lookup('community.hashi_vault.hashi_vault', 'secret=secret/data/hello 
  token=my_vault_token 
  url=http://myvault_url:8200') }}"
----

After (`hashicorp.vault`)

----
name: Return latest KV v2 secret from path
  ansible.builtin.debug:
    msg: "{{ lookup('hashicorp.vault.kv2_secret_get', 'secret=secret/data/hello 
  url=http://myvault_url:8200') }}"
----