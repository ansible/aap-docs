ifdef::context[:parent-context-of-aap-containerized-installation: {context}]

:_mod-docs-content-type: ASSEMBLY

ifndef::context[]
[id="aap-containerized-installation"]
endif::[]

ifdef::context[]
[id="aap-containerized-installation_{context}"]
endif::[]

= {PlatformNameShort} containerized installation

:context: aap-containerized-installation

[role="_abstract"]
{PlatformNameShort} is a commercial offering that helps teams manage complex multi-tier deployments by adding control, knowledge, and delegation to Ansible-powered environments.

This guide helps you to understand the installation requirements and processes behind the containerized version of {PlatformNameShort}. 

[NOTE]
====
include::snippets/container-upgrades.adoc[]
====

.Prerequisites
* A host running {RHEL} (RHEL) 9.2 or later. Use a minimal operating system base install.
* A non-root user for the {RHEL} host, with sudo or other Ansible supported privilege escalation (sudo recommended). This user is responsible for the installation of containerized {PlatformNameShort}.
* SSH public key authentication for the non-root user. For guidelines on setting up SSH public key authentication for the non-root user, see link:https://access.redhat.com/solutions/4110681[How to configure SSH public key authentication for passwordless login].
** SSH keys are only required when installing on remote hosts. If doing a self contained local VM based installation, you can use `ansible_connection=local`.
* Internet access from the {RHEL} host if you are using the default online installation method.
* The appropriate network ports are open if a firewall is in place. For more information about the ports to open, see link:{URLTopologies}/container-topologies[Container topologies] in _{TitleTopologies}_.

== Tested deployment topologies

Red Hat tests {PlatformNameShort} {PlatformVers} with a defined set of topologies to give you opinionated deployment options. The supported topologies include infrastructure topology diagrams, tested system configurations, example inventory files, and network ports information.

For containerized {PlatformNameShort}, there are two infrastructure topology shapes:

. Growth - (All-in-one) Intended for organizations that are getting started with {PlatformNameShort}. This topology allows for smaller footprint deployments.

. Enterprise - Intended for organizations that require {PlatformNameShort} deployments to have redundancy or higher compute for large volumes of automation. This is a more future-proofed scaled out architecture.

For more information about the tested deployment topologies for containerized {PlatformNameShort}, see link:{URLTopologies}/container-topologies[Container topologies] in _{TitleTopologies}_.

== System requirements
Each virtual machine (VM) has the following system requirements:

[cols=2,options="header"]
|====
| Requirement | Minimum requirement
| RAM      | 16 GB
| CPUs         | 4 
| Local disk  | 60 GB  
| Disk IOPS   | 3000    
|====

If performing a bundled installation of the growth topology with `hub_seed_collections=true`, then 32 GB RAM is recommended. Note that with this configuration the install time is going to increase and can take 45 or more minutes alone to complete seeding the collections.

include::platform/proc-preparing-the-rhel-host-for-containerized-installation.adoc[leveloffset=+1]
include::platform/proc-downloading-containerized-aap.adoc[leveloffset=+1]

include::platform/ref-configuring-inventory-file.adoc[leveloffset=+1]
include::platform/proc-setup-postgresql-ext-database.adoc[leveloffset=+2]
include::platform/proc-set-registry-username-password.adoc[leveloffset=+2]
include::platform/ref-using-custom-tls-certificates.adoc[leveloffset=+2]
include::platform/ref-using-custom-receptor-signing-keys.adoc[leveloffset=+2]
include::platform/ref-enabling-automation-hub-collection-and-container-signing.adoc[leveloffset=+2]
include::platform/ref-adding-execution-nodes.adoc[leveloffset=+2]
include::platform/proc-add-eda-safe-plugin-var.adoc[leveloffset=+2]

include::platform/proc-installing-containerized-aap.adoc[leveloffset=+1]
//include::platform/proc-using-postinstall.adoc[leveloffset=+1]
include::platform/ref-accessing-control-auto-hub-eda-control.adoc[leveloffset=+1]
include::platform/proc-update-aap-container.adoc[leveloffset=+1]
include::platform/proc-backup-aap-container.adoc[leveloffset=+1]
include::platform/proc-uninstalling-containerized-aap.adoc[leveloffset=+1]
include::platform/proc-reinstalling-containerized-aap.adoc[leveloffset=+1]


ifdef::parent-context-of-aap-containerized-installation[:context: {parent-context-of-aap-containerized-installation}]
ifndef::parent-context-of-aap-containerized-installation[:!context:]

