:_mod-docs-content-type: PROCEDURE

[id="proc-saas-config-egress-privatelink"]

=  Configuring {AWSPrivateLink} connectivity from Red Hat managed control plane to customer VPCs

[role="_abstract"]

This configuration allows the {PlatformNameShort} control plane to connect to your private resources, such as internal Git or {PrivateHubName}.

.Procedure

. Create an Endpoint Service in your VPC:
.. Confirm your private resource is behind an AWS Network Load Balancer (NLB).
.. Create an Endpoint Service in your AWS VPC that points to that NLB.
+
[IMPORTANT]
====
You must select the service type that supports Interface endpoints and enable the Private DNS option.
====
. To initiate control plane egress, you must submit a *separate* link:https://access.redhat.com/support/cases/?extIdCarryOver=true&sc_cid=RHCTG0250000454096#/case/new/get-support?caseCreate=true[Customer support] case using the *Egress PrivateLink request template*.
. Red Hat uses the information provided to create an Interface Endpoint on their side. When Red Hat creates this endpoint, they select the category "Endpoint services that use NLBs and GWLBs" to connect to your service.
. Your Internal Network or IT Team must configure the Internal DNS.
. To ensure users route through the secure PrivateLink connection, you must request a Split-Horizon DNS configuration.
. Copy the *Egress PrivateLink request template*, fill in your specific VPC Endpoint Service Name, and submit it to Red Hat.

*Egress PrivateLink request template*
----
Subject: 
Egress PrivateLink Configuration for <Instance ID>

Body:
We need to enable Egress PrivateLink connectivity to allow the AAP control plane to access our internal private resources (for example, private automation hub, Git and so on).

Configuration details:
Our AWS Account ID: <Your 12-digit AWS Account ID>
Our Endpoint Service Name: <for example, com.amazonaws.vpce.us-east-1.vpce-svc-xxxxxxxx>
Service Regions/AZs: <for example., us-east-1 / us-east-1a, us-east-1b>

Action required:
Please confirm when Red Hat has initiated the connection request so we can approve it in our AWS Console.

Thank you. 
----