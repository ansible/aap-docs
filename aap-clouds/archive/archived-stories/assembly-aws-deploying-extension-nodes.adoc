:_mod-docs-content-type: ASSEMBLY

ifdef::context[:parent-context: {context}]

[id="assembly-aap-aws-extension"]
= Deploying extension nodes

:context: aws-extension-nodes

The foundation stack is deployed with two {ControllerName} nodes and one {HubName} node by default. You can add execution nodes to scale out {AAPonAWS}.
Extension node offers can be mixed and matched together to scale up and out the {PlatformNameShort} deployment.

You must create a backup of the {PlatformNameShort} deployment before deploying new extension nodes.

The procedure contains the following steps:

. Decide the offer type for the extension nodes.
. Pull the `ansible-on-clouds-ops` container image. 
. Ensure the minimum permissions are met to manage extension nodes.
. Generate data files by running the `ansible-on-clouds-ops` container.
. Populate the data file.
. Run the `ansible-on-clouds-ops` container to deploy extension nodes.

.Prerequisites
* Linux or macOS system (where the `ansible-on-clouds-ops` container image will run).
* Docker

include::topics/ref-aws-decide-offer-type.adoc[leveloffset=+1]
include::topics/ref-aws-getting-extension-node-subscription.adoc[leveloffset=+1]
include::topics/con-aws-pull-deploy-container-image.adoc[leveloffset=+1]
include::topics/ref-aws-permissions-to-manage-nodes.adoc[leveloffset=+1]
include::topics/proc-aws-generate-add-data-files.adoc[leveloffset=+1]
include::topics/proc-aws-update-add-data-files.adoc[leveloffset=+1]
include::topics/proc-aws-deploying-extension-nodes.adoc[leveloffset=+1]

