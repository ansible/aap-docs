[id="proc-aap-list-available-playbooks"]

= Listing the available playbooks

.Procedure
. For the list of available playbooks without details, use the following command.
+
[literal, options="nowrap" subs="+attributes"]
----
$ docker run --rm $IMAGE command_generator_vars | grep Playbook

The current version of the operational playbooks collection contains the following playbooks:

Playbook: aws_add_extension_nodes
Playbook: aws_add_labels
Playbook: aws_backup_delete
Playbook: aws_backup_stack
Playbook: aws_backups_delete
Playbook: aws_check_aoc_version
Playbook: aws_deployment_inventory
Playbook: aws_get_aoc_version
Playbook: aws_remove_extension_nodes
Playbook: aws_remove_labels
Playbook: aws_restore_stack
Playbook: aws_upgrade
Playbook: gcp_aap_health_check
Playbook: gcp_add_extension_nodes
Playbook: gcp_add_labels
Playbook: gcp_backup_delete
Playbook: gcp_backup_deployment
Playbook: gcp_backup_list
Playbook: gcp_backups_delete
Playbook: gcp_check_aoc_version
Playbook: gcp_deployment_inventory
Playbook: gcp_get_aoc_version
Playbook: gcp_health_check
Playbook: gcp_list_deployments
Playbook: gcp_nodes_health_check
Playbook: gcp_remove_extension_nodes
Playbook: gcp_remove_labels
Playbook: gcp_restore_deployment
Playbook: gcp_setup_logging_monitoring
Playbook: gcp_upgrade
----

. To provide a list of all available playbooks, and to use the command generator, use the following command.
+
[literal, options="nowrap" subs="+attributes"]
----
$ docker run --rm $IMAGE command_generator_vars
----
+
This provides a list of playbooks and a command similar to the following:

ifdef::product_AWS[]
+
[literal, options="nowrap" subs="+attributes"]
----
===============================================
Playbook: aws_add_extension_nodes
Description: Add extension nodes to an existing Ansible Automation Platform from AWS Marketplace stack
-----------------------------------------------
This playbook is used to deploy extension nodes to an existing Ansible Automation Platform from AWS Marketplace environment.
For more information regarding extension nodes, visit our official documentation -
https://access.redhat.com/documentation/en-us/ansible_on_clouds/2.x/html/red_hat_ansible_automation_platform_from_aws_marketplace_guide/assembly-aap-aws-extension

-----------------------------------------------
Command generator template:

docker run --rm $IMAGE command_generator aws_add_extension_nodes [--ansible-config ansible_config_path>] \
-d <deployment_name> -c <cloud_credentials_path> \
--extra-vars 'aws_region=<aws_region> aws_launch_template_name=<aws_launch_template_name> aws_autoscaling_group_name=<aws_autoscaling_group_name> aws_asg_min_size=<aws_asg_min_size> aws_asg_desired_capacity=<aws_asg_desired_capacity> aws_offer_type=<aws_offer_type> [seller_name=<seller_name>]'
===============================================
----
endif::product_AWS[]

ifdef::product_GCP[]
+
[literal, options="nowrap" subs="+attributes"]
----
===============================================
Playbook: gcp_upgrade
Description: Performs the upgrade of the Ansible Automation Platform from GCP Marketplace components to the latest version.
-----------------------------------------------
Performs the upgrade of the Ansible Automation Platform from GCP Marketplace components to the latest version.

-----------------------------------------------
Command generator template:

docker run --rm $IMAGE command_generator gcp_upgrade [--ansible-config ansible_config_path>] \
-d <deployment_name> -c <cloud_credentials_path> --extra-vars 'gcp_compute_region=<gcp_compute_region> gcp_compute_zone=<gcp_compute_zone> gcp_backup_taken=<true|false>'
===============================================
----
endif::product_GCP[]
