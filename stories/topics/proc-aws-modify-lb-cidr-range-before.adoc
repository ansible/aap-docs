[id="proc-aws-modify-lb-cidr-range-before"]

= Modyifying the CIDR range configuration for the default load balancers before the deployment

.Procedure
. In the AWS Console, navigate to menu:CloudFormation[].
. Click on your {PlatformName} deployment.
. Select the *Template* tab and click btn:[View in Designer].
. In the top left corner, hover over the file symbol to reveal a dropdown.
. Save your template to a local file.
. In your saved template update the "controlleralbsecuritygroupEFD044E7" and "hubalbsecuritygroup4C1C53F8" CIDR ranges to your desired CIDR range.
.. Update the *Ingress CidrIp* ingress of the {ControllerName} Load Balancer security group component to your desired CIDR range. 
Search for "controlleralbsecuritygroupEFD044E7" (in quotes) to locate the component.
.. Update the *Ingress CidrIp* ingress of the {HubName} Load Balancer security group component to your desired CIDR range. 
Search for "hubalbsecuritygroup4C1C53F8" (in quotes) to locate the component.
. Create a new {AAPonAWS} CloudFormation stack using the modified CIDR range template for the load balancers.
.. In the AWS Console, navigate to menu:CloudFormation[].
.. Click on btn:[Create Stack] located near the top right of the screen.
.. Select *With new resources (standard)* from the dropdown.
.. In the *Specify template* section under *Template source* click btn:[Upload a template file] and select the template you have modified. 
.. Click btn:[Next] to go to the next step. 
.. Enter a stack name and select an `AWSKeyPair` to use for the deployment. 
.. Click btn:[Next] to go to the *Configure stack options* page.
.. Optional: Configure stack options and click btn:[Next] to review the stack.
.. Click btn:[Submit] to create your new deployment with the updated CIDR range for the load balancers.