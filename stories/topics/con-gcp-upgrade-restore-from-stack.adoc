[id="con-gcp-upgrade-restore-from-stack"]

= Restoring the stack from backups

[NOTE]
====
The following procedures are optional.
====

If, for some reason, the upgrade process fails, you can use the backup files from xref:con-gcp-upgrade-backup-process[Backing up before the upgrade] to restore your stack.
The restore process deploys a new deployment, and restores the filestore and SQL database instance to the specified backup.

[NOTE]
====
The restored filestore instance uses CIDR network range 192.168.244.0/29, which is different from the default network filestore network range of the backup deployment.
====

The following procedures describe how to setup and run the restore playbook.

include::proc-gcp-pull-restore-from-stack-image.adoc[leveloffset=+1]
include::ref-gcp-setup-restore-from-stack-extravars.adoc[leveloffset=+1]
include::proc-gcp-run-restore-playbook-as-container.adoc[leveloffset=+1]



