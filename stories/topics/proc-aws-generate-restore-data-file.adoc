[id="proc-aws-generate-restore-data-file"]

= Generating the restore data file

The following commands create a directory, and populate it with an empty data template that, when completed, is used during the restore. 

.Procedure
. Create a folder to hold the configuration 
+
[literal, options="nowrap" subs="+attributes"]
----
$ mkdir command_generator_data
----
. Populate the `$(pwd)/command_generator_data` folder with the configuration file template.
+
[literal, options="nowrap" subs="+attributes"]
----
$ docker run --rm -v $(pwd)/command_generator_data:/data $IMAGE \
  command_generator_vars aws_restore_stack \
  --output-data-file /data/restore.yml
----

. After running these commands, a `$(pwd)/command_generator_data/restore.yml` template file is created. 
This template file resembles the following:
+
[literal, options="nowrap" subs="+attributes"]
---- 
aws_restore_stack:
  ansible_config_path:
  cloud_credentials_path:
  deployment_name:
  extra_vars:
    aws_backup_iam_role_arn:
    aws_backup_name:
    aws_backup_restore_point_arn:
    aws_backup_vault_name:
    aws_rds_db_snapshot_arn:
    aws_region:
    aws_s3_bucket:
    aws_ssm_bucket_name:
----
